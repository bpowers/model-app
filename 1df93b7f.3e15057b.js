(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{163:function(e,t,i){var o=i(164),r=o,n={};r.exportSymbol("project_io.Dimension",null,n),r.exportSymbol("project_io.Dt",null,n),r.exportSymbol("project_io.GraphicalFunction",null,n),r.exportSymbol("project_io.GraphicalFunction.Kind",null,n),r.exportSymbol("project_io.GraphicalFunction.Scale",null,n),r.exportSymbol("project_io.Model",null,n),r.exportSymbol("project_io.Project",null,n),r.exportSymbol("project_io.Rect",null,n),r.exportSymbol("project_io.SimMethod",null,n),r.exportSymbol("project_io.SimSpecs",null,n),r.exportSymbol("project_io.Variable",null,n),r.exportSymbol("project_io.Variable.ApplyToAllEquation",null,n),r.exportSymbol("project_io.Variable.ArrayedEquation",null,n),r.exportSymbol("project_io.Variable.ArrayedEquation.Element",null,n),r.exportSymbol("project_io.Variable.Aux",null,n),r.exportSymbol("project_io.Variable.Equation",null,n),r.exportSymbol("project_io.Variable.Equation.EquationCase",null,n),r.exportSymbol("project_io.Variable.Flow",null,n),r.exportSymbol("project_io.Variable.Module",null,n),r.exportSymbol("project_io.Variable.Module.Reference",null,n),r.exportSymbol("project_io.Variable.ScalarEquation",null,n),r.exportSymbol("project_io.Variable.Stock",null,n),r.exportSymbol("project_io.Variable.VCase",null,n),r.exportSymbol("project_io.View",null,n),r.exportSymbol("project_io.View.ViewType",null,n),r.exportSymbol("project_io.ViewElement",null,n),r.exportSymbol("project_io.ViewElement.Alias",null,n),r.exportSymbol("project_io.ViewElement.Aux",null,n),r.exportSymbol("project_io.ViewElement.Cloud",null,n),r.exportSymbol("project_io.ViewElement.ElementCase",null,n),r.exportSymbol("project_io.ViewElement.Flow",null,n),r.exportSymbol("project_io.ViewElement.FlowPoint",null,n),r.exportSymbol("project_io.ViewElement.LabelSide",null,n),r.exportSymbol("project_io.ViewElement.Link",null,n),r.exportSymbol("project_io.ViewElement.Link.LinkPoints",null,n),r.exportSymbol("project_io.ViewElement.Link.ShapeCase",null,n),r.exportSymbol("project_io.ViewElement.Module",null,n),r.exportSymbol("project_io.ViewElement.Stock",null,n),n.project_io.GraphicalFunction=function(e){o.Message.initialize(this,e,0,-1,n.project_io.GraphicalFunction.repeatedFields_,null)},r.inherits(n.project_io.GraphicalFunction,o.Message),r.DEBUG&&!COMPILED&&(n.project_io.GraphicalFunction.displayName="proto.project_io.GraphicalFunction"),n.project_io.GraphicalFunction.Scale=function(e){o.Message.initialize(this,e,0,-1,null,null)},r.inherits(n.project_io.GraphicalFunction.Scale,o.Message),r.DEBUG&&!COMPILED&&(n.project_io.GraphicalFunction.Scale.displayName="proto.project_io.GraphicalFunction.Scale"),n.project_io.Variable=function(e){o.Message.initialize(this,e,0,-1,null,n.project_io.Variable.oneofGroups_)},r.inherits(n.project_io.Variable,o.Message),r.DEBUG&&!COMPILED&&(n.project_io.Variable.displayName="proto.project_io.Variable"),n.project_io.Variable.ScalarEquation=function(e){o.Message.initialize(this,e,0,-1,null,null)},r.inherits(n.project_io.Variable.ScalarEquation,o.Message),r.DEBUG&&!COMPILED&&(n.project_io.Variable.ScalarEquation.displayName="proto.project_io.Variable.ScalarEquation"),n.project_io.Variable.ApplyToAllEquation=function(e){o.Message.initialize(this,e,0,-1,n.project_io.Variable.ApplyToAllEquation.repeatedFields_,null)},r.inherits(n.project_io.Variable.ApplyToAllEquation,o.Message),r.DEBUG&&!COMPILED&&(n.project_io.Variable.ApplyToAllEquation.displayName="proto.project_io.Variable.ApplyToAllEquation"),n.project_io.Variable.ArrayedEquation=function(e){o.Message.initialize(this,e,0,-1,n.project_io.Variable.ArrayedEquation.repeatedFields_,null)},r.inherits(n.project_io.Variable.ArrayedEquation,o.Message),r.DEBUG&&!COMPILED&&(n.project_io.Variable.ArrayedEquation.displayName="proto.project_io.Variable.ArrayedEquation"),n.project_io.Variable.ArrayedEquation.Element=function(e){o.Message.initialize(this,e,0,-1,null,null)},r.inherits(n.project_io.Variable.ArrayedEquation.Element,o.Message),r.DEBUG&&!COMPILED&&(n.project_io.Variable.ArrayedEquation.Element.displayName="proto.project_io.Variable.ArrayedEquation.Element"),n.project_io.Variable.Equation=function(e){o.Message.initialize(this,e,0,-1,null,n.project_io.Variable.Equation.oneofGroups_)},r.inherits(n.project_io.Variable.Equation,o.Message),r.DEBUG&&!COMPILED&&(n.project_io.Variable.Equation.displayName="proto.project_io.Variable.Equation"),n.project_io.Variable.Stock=function(e){o.Message.initialize(this,e,0,-1,n.project_io.Variable.Stock.repeatedFields_,null)},r.inherits(n.project_io.Variable.Stock,o.Message),r.DEBUG&&!COMPILED&&(n.project_io.Variable.Stock.displayName="proto.project_io.Variable.Stock"),n.project_io.Variable.Flow=function(e){o.Message.initialize(this,e,0,-1,null,null)},r.inherits(n.project_io.Variable.Flow,o.Message),r.DEBUG&&!COMPILED&&(n.project_io.Variable.Flow.displayName="proto.project_io.Variable.Flow"),n.project_io.Variable.Aux=function(e){o.Message.initialize(this,e,0,-1,null,null)},r.inherits(n.project_io.Variable.Aux,o.Message),r.DEBUG&&!COMPILED&&(n.project_io.Variable.Aux.displayName="proto.project_io.Variable.Aux"),n.project_io.Variable.Module=function(e){o.Message.initialize(this,e,0,-1,n.project_io.Variable.Module.repeatedFields_,null)},r.inherits(n.project_io.Variable.Module,o.Message),r.DEBUG&&!COMPILED&&(n.project_io.Variable.Module.displayName="proto.project_io.Variable.Module"),n.project_io.Variable.Module.Reference=function(e){o.Message.initialize(this,e,0,-1,null,null)},r.inherits(n.project_io.Variable.Module.Reference,o.Message),r.DEBUG&&!COMPILED&&(n.project_io.Variable.Module.Reference.displayName="proto.project_io.Variable.Module.Reference"),n.project_io.ViewElement=function(e){o.Message.initialize(this,e,0,-1,null,n.project_io.ViewElement.oneofGroups_)},r.inherits(n.project_io.ViewElement,o.Message),r.DEBUG&&!COMPILED&&(n.project_io.ViewElement.displayName="proto.project_io.ViewElement"),n.project_io.ViewElement.Aux=function(e){o.Message.initialize(this,e,0,-1,null,null)},r.inherits(n.project_io.ViewElement.Aux,o.Message),r.DEBUG&&!COMPILED&&(n.project_io.ViewElement.Aux.displayName="proto.project_io.ViewElement.Aux"),n.project_io.ViewElement.Stock=function(e){o.Message.initialize(this,e,0,-1,null,null)},r.inherits(n.project_io.ViewElement.Stock,o.Message),r.DEBUG&&!COMPILED&&(n.project_io.ViewElement.Stock.displayName="proto.project_io.ViewElement.Stock"),n.project_io.ViewElement.FlowPoint=function(e){o.Message.initialize(this,e,0,-1,null,null)},r.inherits(n.project_io.ViewElement.FlowPoint,o.Message),r.DEBUG&&!COMPILED&&(n.project_io.ViewElement.FlowPoint.displayName="proto.project_io.ViewElement.FlowPoint"),n.project_io.ViewElement.Flow=function(e){o.Message.initialize(this,e,0,-1,n.project_io.ViewElement.Flow.repeatedFields_,null)},r.inherits(n.project_io.ViewElement.Flow,o.Message),r.DEBUG&&!COMPILED&&(n.project_io.ViewElement.Flow.displayName="proto.project_io.ViewElement.Flow"),n.project_io.ViewElement.Link=function(e){o.Message.initialize(this,e,0,-1,null,n.project_io.ViewElement.Link.oneofGroups_)},r.inherits(n.project_io.ViewElement.Link,o.Message),r.DEBUG&&!COMPILED&&(n.project_io.ViewElement.Link.displayName="proto.project_io.ViewElement.Link"),n.project_io.ViewElement.Link.LinkPoints=function(e){o.Message.initialize(this,e,0,-1,n.project_io.ViewElement.Link.LinkPoints.repeatedFields_,null)},r.inherits(n.project_io.ViewElement.Link.LinkPoints,o.Message),r.DEBUG&&!COMPILED&&(n.project_io.ViewElement.Link.LinkPoints.displayName="proto.project_io.ViewElement.Link.LinkPoints"),n.project_io.ViewElement.Module=function(e){o.Message.initialize(this,e,0,-1,null,null)},r.inherits(n.project_io.ViewElement.Module,o.Message),r.DEBUG&&!COMPILED&&(n.project_io.ViewElement.Module.displayName="proto.project_io.ViewElement.Module"),n.project_io.ViewElement.Alias=function(e){o.Message.initialize(this,e,0,-1,null,null)},r.inherits(n.project_io.ViewElement.Alias,o.Message),r.DEBUG&&!COMPILED&&(n.project_io.ViewElement.Alias.displayName="proto.project_io.ViewElement.Alias"),n.project_io.ViewElement.Cloud=function(e){o.Message.initialize(this,e,0,-1,null,null)},r.inherits(n.project_io.ViewElement.Cloud,o.Message),r.DEBUG&&!COMPILED&&(n.project_io.ViewElement.Cloud.displayName="proto.project_io.ViewElement.Cloud"),n.project_io.Rect=function(e){o.Message.initialize(this,e,0,-1,null,null)},r.inherits(n.project_io.Rect,o.Message),r.DEBUG&&!COMPILED&&(n.project_io.Rect.displayName="proto.project_io.Rect"),n.project_io.View=function(e){o.Message.initialize(this,e,0,-1,n.project_io.View.repeatedFields_,null)},r.inherits(n.project_io.View,o.Message),r.DEBUG&&!COMPILED&&(n.project_io.View.displayName="proto.project_io.View"),n.project_io.Model=function(e){o.Message.initialize(this,e,0,-1,n.project_io.Model.repeatedFields_,null)},r.inherits(n.project_io.Model,o.Message),r.DEBUG&&!COMPILED&&(n.project_io.Model.displayName="proto.project_io.Model"),n.project_io.Dt=function(e){o.Message.initialize(this,e,0,-1,null,null)},r.inherits(n.project_io.Dt,o.Message),r.DEBUG&&!COMPILED&&(n.project_io.Dt.displayName="proto.project_io.Dt"),n.project_io.SimSpecs=function(e){o.Message.initialize(this,e,0,-1,null,null)},r.inherits(n.project_io.SimSpecs,o.Message),r.DEBUG&&!COMPILED&&(n.project_io.SimSpecs.displayName="proto.project_io.SimSpecs"),n.project_io.Dimension=function(e){o.Message.initialize(this,e,0,-1,n.project_io.Dimension.repeatedFields_,null)},r.inherits(n.project_io.Dimension,o.Message),r.DEBUG&&!COMPILED&&(n.project_io.Dimension.displayName="proto.project_io.Dimension"),n.project_io.Project=function(e){o.Message.initialize(this,e,0,-1,n.project_io.Project.repeatedFields_,null)},r.inherits(n.project_io.Project,o.Message),r.DEBUG&&!COMPILED&&(n.project_io.Project.displayName="proto.project_io.Project"),n.project_io.GraphicalFunction.repeatedFields_=[2,3],o.Message.GENERATE_TO_OBJECT&&(n.project_io.GraphicalFunction.prototype.toObject=function(e){return n.project_io.GraphicalFunction.toObject(e,this)},n.project_io.GraphicalFunction.toObject=function(e,t){var i,r={kind:o.Message.getFieldWithDefault(t,1,0),xPointsList:null==(i=o.Message.getRepeatedFloatingPointField(t,2))?void 0:i,yPointsList:null==(i=o.Message.getRepeatedFloatingPointField(t,3))?void 0:i,xScale:(i=t.getXScale())&&n.project_io.GraphicalFunction.Scale.toObject(e,i),yScale:(i=t.getYScale())&&n.project_io.GraphicalFunction.Scale.toObject(e,i)};return e&&(r.$jspbMessageInstance=t),r}),n.project_io.GraphicalFunction.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new n.project_io.GraphicalFunction;return n.project_io.GraphicalFunction.deserializeBinaryFromReader(i,t)},n.project_io.GraphicalFunction.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var i=t.readEnum();e.setKind(i);break;case 2:i=t.readPackedDouble();e.setXPointsList(i);break;case 3:i=t.readPackedDouble();e.setYPointsList(i);break;case 4:i=new n.project_io.GraphicalFunction.Scale;t.readMessage(i,n.project_io.GraphicalFunction.Scale.deserializeBinaryFromReader),e.setXScale(i);break;case 5:i=new n.project_io.GraphicalFunction.Scale;t.readMessage(i,n.project_io.GraphicalFunction.Scale.deserializeBinaryFromReader),e.setYScale(i);break;default:t.skipField()}}return e},n.project_io.GraphicalFunction.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return n.project_io.GraphicalFunction.serializeBinaryToWriter(this,e),e.getResultBuffer()},n.project_io.GraphicalFunction.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getKind())&&t.writeEnum(1,i),(i=e.getXPointsList()).length>0&&t.writePackedDouble(2,i),(i=e.getYPointsList()).length>0&&t.writePackedDouble(3,i),null!=(i=e.getXScale())&&t.writeMessage(4,i,n.project_io.GraphicalFunction.Scale.serializeBinaryToWriter),null!=(i=e.getYScale())&&t.writeMessage(5,i,n.project_io.GraphicalFunction.Scale.serializeBinaryToWriter)},n.project_io.GraphicalFunction.Kind={CONTINUOUS:0,DISCRETE:1,EXTRAPOLATE:2},o.Message.GENERATE_TO_OBJECT&&(n.project_io.GraphicalFunction.Scale.prototype.toObject=function(e){return n.project_io.GraphicalFunction.Scale.toObject(e,this)},n.project_io.GraphicalFunction.Scale.toObject=function(e,t){var i={min:o.Message.getFloatingPointFieldWithDefault(t,1,0),max:o.Message.getFloatingPointFieldWithDefault(t,2,0)};return e&&(i.$jspbMessageInstance=t),i}),n.project_io.GraphicalFunction.Scale.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new n.project_io.GraphicalFunction.Scale;return n.project_io.GraphicalFunction.Scale.deserializeBinaryFromReader(i,t)},n.project_io.GraphicalFunction.Scale.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var i=t.readDouble();e.setMin(i);break;case 2:i=t.readDouble();e.setMax(i);break;default:t.skipField()}}return e},n.project_io.GraphicalFunction.Scale.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return n.project_io.GraphicalFunction.Scale.serializeBinaryToWriter(this,e),e.getResultBuffer()},n.project_io.GraphicalFunction.Scale.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getMin())&&t.writeDouble(1,i),0!==(i=e.getMax())&&t.writeDouble(2,i)},n.project_io.GraphicalFunction.Scale.prototype.getMin=function(){return o.Message.getFloatingPointFieldWithDefault(this,1,0)},n.project_io.GraphicalFunction.Scale.prototype.setMin=function(e){return o.Message.setProto3FloatField(this,1,e)},n.project_io.GraphicalFunction.Scale.prototype.getMax=function(){return o.Message.getFloatingPointFieldWithDefault(this,2,0)},n.project_io.GraphicalFunction.Scale.prototype.setMax=function(e){return o.Message.setProto3FloatField(this,2,e)},n.project_io.GraphicalFunction.prototype.getKind=function(){return o.Message.getFieldWithDefault(this,1,0)},n.project_io.GraphicalFunction.prototype.setKind=function(e){return o.Message.setProto3EnumField(this,1,e)},n.project_io.GraphicalFunction.prototype.getXPointsList=function(){return o.Message.getRepeatedFloatingPointField(this,2)},n.project_io.GraphicalFunction.prototype.setXPointsList=function(e){return o.Message.setField(this,2,e||[])},n.project_io.GraphicalFunction.prototype.addXPoints=function(e,t){return o.Message.addToRepeatedField(this,2,e,t)},n.project_io.GraphicalFunction.prototype.clearXPointsList=function(){return this.setXPointsList([])},n.project_io.GraphicalFunction.prototype.getYPointsList=function(){return o.Message.getRepeatedFloatingPointField(this,3)},n.project_io.GraphicalFunction.prototype.setYPointsList=function(e){return o.Message.setField(this,3,e||[])},n.project_io.GraphicalFunction.prototype.addYPoints=function(e,t){return o.Message.addToRepeatedField(this,3,e,t)},n.project_io.GraphicalFunction.prototype.clearYPointsList=function(){return this.setYPointsList([])},n.project_io.GraphicalFunction.prototype.getXScale=function(){return o.Message.getWrapperField(this,n.project_io.GraphicalFunction.Scale,4)},n.project_io.GraphicalFunction.prototype.setXScale=function(e){return o.Message.setWrapperField(this,4,e)},n.project_io.GraphicalFunction.prototype.clearXScale=function(){return this.setXScale(void 0)},n.project_io.GraphicalFunction.prototype.hasXScale=function(){return null!=o.Message.getField(this,4)},n.project_io.GraphicalFunction.prototype.getYScale=function(){return o.Message.getWrapperField(this,n.project_io.GraphicalFunction.Scale,5)},n.project_io.GraphicalFunction.prototype.setYScale=function(e){return o.Message.setWrapperField(this,5,e)},n.project_io.GraphicalFunction.prototype.clearYScale=function(){return this.setYScale(void 0)},n.project_io.GraphicalFunction.prototype.hasYScale=function(){return null!=o.Message.getField(this,5)},n.project_io.Variable.oneofGroups_=[[1,2,3,4]],n.project_io.Variable.VCase={V_NOT_SET:0,STOCK:1,FLOW:2,AUX:3,MODULE:4},n.project_io.Variable.prototype.getVCase=function(){return o.Message.computeOneofCase(this,n.project_io.Variable.oneofGroups_[0])},o.Message.GENERATE_TO_OBJECT&&(n.project_io.Variable.prototype.toObject=function(e){return n.project_io.Variable.toObject(e,this)},n.project_io.Variable.toObject=function(e,t){var i,o={stock:(i=t.getStock())&&n.project_io.Variable.Stock.toObject(e,i),flow:(i=t.getFlow())&&n.project_io.Variable.Flow.toObject(e,i),aux:(i=t.getAux())&&n.project_io.Variable.Aux.toObject(e,i),module:(i=t.getModule())&&n.project_io.Variable.Module.toObject(e,i)};return e&&(o.$jspbMessageInstance=t),o}),n.project_io.Variable.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new n.project_io.Variable;return n.project_io.Variable.deserializeBinaryFromReader(i,t)},n.project_io.Variable.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var i=new n.project_io.Variable.Stock;t.readMessage(i,n.project_io.Variable.Stock.deserializeBinaryFromReader),e.setStock(i);break;case 2:i=new n.project_io.Variable.Flow;t.readMessage(i,n.project_io.Variable.Flow.deserializeBinaryFromReader),e.setFlow(i);break;case 3:i=new n.project_io.Variable.Aux;t.readMessage(i,n.project_io.Variable.Aux.deserializeBinaryFromReader),e.setAux(i);break;case 4:i=new n.project_io.Variable.Module;t.readMessage(i,n.project_io.Variable.Module.deserializeBinaryFromReader),e.setModule(i);break;default:t.skipField()}}return e},n.project_io.Variable.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return n.project_io.Variable.serializeBinaryToWriter(this,e),e.getResultBuffer()},n.project_io.Variable.serializeBinaryToWriter=function(e,t){var i=void 0;null!=(i=e.getStock())&&t.writeMessage(1,i,n.project_io.Variable.Stock.serializeBinaryToWriter),null!=(i=e.getFlow())&&t.writeMessage(2,i,n.project_io.Variable.Flow.serializeBinaryToWriter),null!=(i=e.getAux())&&t.writeMessage(3,i,n.project_io.Variable.Aux.serializeBinaryToWriter),null!=(i=e.getModule())&&t.writeMessage(4,i,n.project_io.Variable.Module.serializeBinaryToWriter)},o.Message.GENERATE_TO_OBJECT&&(n.project_io.Variable.ScalarEquation.prototype.toObject=function(e){return n.project_io.Variable.ScalarEquation.toObject(e,this)},n.project_io.Variable.ScalarEquation.toObject=function(e,t){var i={equation:o.Message.getFieldWithDefault(t,1,"")};return e&&(i.$jspbMessageInstance=t),i}),n.project_io.Variable.ScalarEquation.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new n.project_io.Variable.ScalarEquation;return n.project_io.Variable.ScalarEquation.deserializeBinaryFromReader(i,t)},n.project_io.Variable.ScalarEquation.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var i=t.readString();e.setEquation(i);break;default:t.skipField()}}return e},n.project_io.Variable.ScalarEquation.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return n.project_io.Variable.ScalarEquation.serializeBinaryToWriter(this,e),e.getResultBuffer()},n.project_io.Variable.ScalarEquation.serializeBinaryToWriter=function(e,t){var i;(i=e.getEquation()).length>0&&t.writeString(1,i)},n.project_io.Variable.ScalarEquation.prototype.getEquation=function(){return o.Message.getFieldWithDefault(this,1,"")},n.project_io.Variable.ScalarEquation.prototype.setEquation=function(e){return o.Message.setProto3StringField(this,1,e)},n.project_io.Variable.ApplyToAllEquation.repeatedFields_=[1],o.Message.GENERATE_TO_OBJECT&&(n.project_io.Variable.ApplyToAllEquation.prototype.toObject=function(e){return n.project_io.Variable.ApplyToAllEquation.toObject(e,this)},n.project_io.Variable.ApplyToAllEquation.toObject=function(e,t){var i,r={dimensionNamesList:null==(i=o.Message.getRepeatedField(t,1))?void 0:i,equation:o.Message.getFieldWithDefault(t,2,"")};return e&&(r.$jspbMessageInstance=t),r}),n.project_io.Variable.ApplyToAllEquation.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new n.project_io.Variable.ApplyToAllEquation;return n.project_io.Variable.ApplyToAllEquation.deserializeBinaryFromReader(i,t)},n.project_io.Variable.ApplyToAllEquation.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var i=t.readString();e.addDimensionNames(i);break;case 2:i=t.readString();e.setEquation(i);break;default:t.skipField()}}return e},n.project_io.Variable.ApplyToAllEquation.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return n.project_io.Variable.ApplyToAllEquation.serializeBinaryToWriter(this,e),e.getResultBuffer()},n.project_io.Variable.ApplyToAllEquation.serializeBinaryToWriter=function(e,t){var i=void 0;(i=e.getDimensionNamesList()).length>0&&t.writeRepeatedString(1,i),(i=e.getEquation()).length>0&&t.writeString(2,i)},n.project_io.Variable.ApplyToAllEquation.prototype.getDimensionNamesList=function(){return o.Message.getRepeatedField(this,1)},n.project_io.Variable.ApplyToAllEquation.prototype.setDimensionNamesList=function(e){return o.Message.setField(this,1,e||[])},n.project_io.Variable.ApplyToAllEquation.prototype.addDimensionNames=function(e,t){return o.Message.addToRepeatedField(this,1,e,t)},n.project_io.Variable.ApplyToAllEquation.prototype.clearDimensionNamesList=function(){return this.setDimensionNamesList([])},n.project_io.Variable.ApplyToAllEquation.prototype.getEquation=function(){return o.Message.getFieldWithDefault(this,2,"")},n.project_io.Variable.ApplyToAllEquation.prototype.setEquation=function(e){return o.Message.setProto3StringField(this,2,e)},n.project_io.Variable.ArrayedEquation.repeatedFields_=[1,2],o.Message.GENERATE_TO_OBJECT&&(n.project_io.Variable.ArrayedEquation.prototype.toObject=function(e){return n.project_io.Variable.ArrayedEquation.toObject(e,this)},n.project_io.Variable.ArrayedEquation.toObject=function(e,t){var i,r={dimensionNamesList:null==(i=o.Message.getRepeatedField(t,1))?void 0:i,elementsList:o.Message.toObjectList(t.getElementsList(),n.project_io.Variable.ArrayedEquation.Element.toObject,e)};return e&&(r.$jspbMessageInstance=t),r}),n.project_io.Variable.ArrayedEquation.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new n.project_io.Variable.ArrayedEquation;return n.project_io.Variable.ArrayedEquation.deserializeBinaryFromReader(i,t)},n.project_io.Variable.ArrayedEquation.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var i=t.readString();e.addDimensionNames(i);break;case 2:i=new n.project_io.Variable.ArrayedEquation.Element;t.readMessage(i,n.project_io.Variable.ArrayedEquation.Element.deserializeBinaryFromReader),e.addElements(i);break;default:t.skipField()}}return e},n.project_io.Variable.ArrayedEquation.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return n.project_io.Variable.ArrayedEquation.serializeBinaryToWriter(this,e),e.getResultBuffer()},n.project_io.Variable.ArrayedEquation.serializeBinaryToWriter=function(e,t){var i=void 0;(i=e.getDimensionNamesList()).length>0&&t.writeRepeatedString(1,i),(i=e.getElementsList()).length>0&&t.writeRepeatedMessage(2,i,n.project_io.Variable.ArrayedEquation.Element.serializeBinaryToWriter)},o.Message.GENERATE_TO_OBJECT&&(n.project_io.Variable.ArrayedEquation.Element.prototype.toObject=function(e){return n.project_io.Variable.ArrayedEquation.Element.toObject(e,this)},n.project_io.Variable.ArrayedEquation.Element.toObject=function(e,t){var i={subscript:o.Message.getFieldWithDefault(t,1,""),equation:o.Message.getFieldWithDefault(t,2,"")};return e&&(i.$jspbMessageInstance=t),i}),n.project_io.Variable.ArrayedEquation.Element.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new n.project_io.Variable.ArrayedEquation.Element;return n.project_io.Variable.ArrayedEquation.Element.deserializeBinaryFromReader(i,t)},n.project_io.Variable.ArrayedEquation.Element.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var i=t.readString();e.setSubscript(i);break;case 2:i=t.readString();e.setEquation(i);break;default:t.skipField()}}return e},n.project_io.Variable.ArrayedEquation.Element.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return n.project_io.Variable.ArrayedEquation.Element.serializeBinaryToWriter(this,e),e.getResultBuffer()},n.project_io.Variable.ArrayedEquation.Element.serializeBinaryToWriter=function(e,t){var i=void 0;(i=e.getSubscript()).length>0&&t.writeString(1,i),(i=e.getEquation()).length>0&&t.writeString(2,i)},n.project_io.Variable.ArrayedEquation.Element.prototype.getSubscript=function(){return o.Message.getFieldWithDefault(this,1,"")},n.project_io.Variable.ArrayedEquation.Element.prototype.setSubscript=function(e){return o.Message.setProto3StringField(this,1,e)},n.project_io.Variable.ArrayedEquation.Element.prototype.getEquation=function(){return o.Message.getFieldWithDefault(this,2,"")},n.project_io.Variable.ArrayedEquation.Element.prototype.setEquation=function(e){return o.Message.setProto3StringField(this,2,e)},n.project_io.Variable.ArrayedEquation.prototype.getDimensionNamesList=function(){return o.Message.getRepeatedField(this,1)},n.project_io.Variable.ArrayedEquation.prototype.setDimensionNamesList=function(e){return o.Message.setField(this,1,e||[])},n.project_io.Variable.ArrayedEquation.prototype.addDimensionNames=function(e,t){return o.Message.addToRepeatedField(this,1,e,t)},n.project_io.Variable.ArrayedEquation.prototype.clearDimensionNamesList=function(){return this.setDimensionNamesList([])},n.project_io.Variable.ArrayedEquation.prototype.getElementsList=function(){return o.Message.getRepeatedWrapperField(this,n.project_io.Variable.ArrayedEquation.Element,2)},n.project_io.Variable.ArrayedEquation.prototype.setElementsList=function(e){return o.Message.setRepeatedWrapperField(this,2,e)},n.project_io.Variable.ArrayedEquation.prototype.addElements=function(e,t){return o.Message.addToRepeatedWrapperField(this,2,e,n.project_io.Variable.ArrayedEquation.Element,t)},n.project_io.Variable.ArrayedEquation.prototype.clearElementsList=function(){return this.setElementsList([])},n.project_io.Variable.Equation.oneofGroups_=[[1,2,3]],n.project_io.Variable.Equation.EquationCase={EQUATION_NOT_SET:0,SCALAR:1,APPLY_TO_ALL:2,ARRAYED:3},n.project_io.Variable.Equation.prototype.getEquationCase=function(){return o.Message.computeOneofCase(this,n.project_io.Variable.Equation.oneofGroups_[0])},o.Message.GENERATE_TO_OBJECT&&(n.project_io.Variable.Equation.prototype.toObject=function(e){return n.project_io.Variable.Equation.toObject(e,this)},n.project_io.Variable.Equation.toObject=function(e,t){var i,o={scalar:(i=t.getScalar())&&n.project_io.Variable.ScalarEquation.toObject(e,i),applyToAll:(i=t.getApplyToAll())&&n.project_io.Variable.ApplyToAllEquation.toObject(e,i),arrayed:(i=t.getArrayed())&&n.project_io.Variable.ArrayedEquation.toObject(e,i)};return e&&(o.$jspbMessageInstance=t),o}),n.project_io.Variable.Equation.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new n.project_io.Variable.Equation;return n.project_io.Variable.Equation.deserializeBinaryFromReader(i,t)},n.project_io.Variable.Equation.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var i=new n.project_io.Variable.ScalarEquation;t.readMessage(i,n.project_io.Variable.ScalarEquation.deserializeBinaryFromReader),e.setScalar(i);break;case 2:i=new n.project_io.Variable.ApplyToAllEquation;t.readMessage(i,n.project_io.Variable.ApplyToAllEquation.deserializeBinaryFromReader),e.setApplyToAll(i);break;case 3:i=new n.project_io.Variable.ArrayedEquation;t.readMessage(i,n.project_io.Variable.ArrayedEquation.deserializeBinaryFromReader),e.setArrayed(i);break;default:t.skipField()}}return e},n.project_io.Variable.Equation.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return n.project_io.Variable.Equation.serializeBinaryToWriter(this,e),e.getResultBuffer()},n.project_io.Variable.Equation.serializeBinaryToWriter=function(e,t){var i=void 0;null!=(i=e.getScalar())&&t.writeMessage(1,i,n.project_io.Variable.ScalarEquation.serializeBinaryToWriter),null!=(i=e.getApplyToAll())&&t.writeMessage(2,i,n.project_io.Variable.ApplyToAllEquation.serializeBinaryToWriter),null!=(i=e.getArrayed())&&t.writeMessage(3,i,n.project_io.Variable.ArrayedEquation.serializeBinaryToWriter)},n.project_io.Variable.Equation.prototype.getScalar=function(){return o.Message.getWrapperField(this,n.project_io.Variable.ScalarEquation,1)},n.project_io.Variable.Equation.prototype.setScalar=function(e){return o.Message.setOneofWrapperField(this,1,n.project_io.Variable.Equation.oneofGroups_[0],e)},n.project_io.Variable.Equation.prototype.clearScalar=function(){return this.setScalar(void 0)},n.project_io.Variable.Equation.prototype.hasScalar=function(){return null!=o.Message.getField(this,1)},n.project_io.Variable.Equation.prototype.getApplyToAll=function(){return o.Message.getWrapperField(this,n.project_io.Variable.ApplyToAllEquation,2)},n.project_io.Variable.Equation.prototype.setApplyToAll=function(e){return o.Message.setOneofWrapperField(this,2,n.project_io.Variable.Equation.oneofGroups_[0],e)},n.project_io.Variable.Equation.prototype.clearApplyToAll=function(){return this.setApplyToAll(void 0)},n.project_io.Variable.Equation.prototype.hasApplyToAll=function(){return null!=o.Message.getField(this,2)},n.project_io.Variable.Equation.prototype.getArrayed=function(){return o.Message.getWrapperField(this,n.project_io.Variable.ArrayedEquation,3)},n.project_io.Variable.Equation.prototype.setArrayed=function(e){return o.Message.setOneofWrapperField(this,3,n.project_io.Variable.Equation.oneofGroups_[0],e)},n.project_io.Variable.Equation.prototype.clearArrayed=function(){return this.setArrayed(void 0)},n.project_io.Variable.Equation.prototype.hasArrayed=function(){return null!=o.Message.getField(this,3)},n.project_io.Variable.Stock.repeatedFields_=[5,6],o.Message.GENERATE_TO_OBJECT&&(n.project_io.Variable.Stock.prototype.toObject=function(e){return n.project_io.Variable.Stock.toObject(e,this)},n.project_io.Variable.Stock.toObject=function(e,t){var i,r={ident:o.Message.getFieldWithDefault(t,1,""),equation:(i=t.getEquation())&&n.project_io.Variable.Equation.toObject(e,i),documentation:o.Message.getFieldWithDefault(t,3,""),units:o.Message.getFieldWithDefault(t,4,""),inflowsList:null==(i=o.Message.getRepeatedField(t,5))?void 0:i,outflowsList:null==(i=o.Message.getRepeatedField(t,6))?void 0:i,nonNegative:o.Message.getBooleanFieldWithDefault(t,7,!1)};return e&&(r.$jspbMessageInstance=t),r}),n.project_io.Variable.Stock.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new n.project_io.Variable.Stock;return n.project_io.Variable.Stock.deserializeBinaryFromReader(i,t)},n.project_io.Variable.Stock.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var i=t.readString();e.setIdent(i);break;case 8:i=new n.project_io.Variable.Equation;t.readMessage(i,n.project_io.Variable.Equation.deserializeBinaryFromReader),e.setEquation(i);break;case 3:i=t.readString();e.setDocumentation(i);break;case 4:i=t.readString();e.setUnits(i);break;case 5:i=t.readString();e.addInflows(i);break;case 6:i=t.readString();e.addOutflows(i);break;case 7:i=t.readBool();e.setNonNegative(i);break;default:t.skipField()}}return e},n.project_io.Variable.Stock.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return n.project_io.Variable.Stock.serializeBinaryToWriter(this,e),e.getResultBuffer()},n.project_io.Variable.Stock.serializeBinaryToWriter=function(e,t){var i=void 0;(i=e.getIdent()).length>0&&t.writeString(1,i),null!=(i=e.getEquation())&&t.writeMessage(8,i,n.project_io.Variable.Equation.serializeBinaryToWriter),(i=e.getDocumentation()).length>0&&t.writeString(3,i),(i=e.getUnits()).length>0&&t.writeString(4,i),(i=e.getInflowsList()).length>0&&t.writeRepeatedString(5,i),(i=e.getOutflowsList()).length>0&&t.writeRepeatedString(6,i),(i=e.getNonNegative())&&t.writeBool(7,i)},n.project_io.Variable.Stock.prototype.getIdent=function(){return o.Message.getFieldWithDefault(this,1,"")},n.project_io.Variable.Stock.prototype.setIdent=function(e){return o.Message.setProto3StringField(this,1,e)},n.project_io.Variable.Stock.prototype.getEquation=function(){return o.Message.getWrapperField(this,n.project_io.Variable.Equation,8)},n.project_io.Variable.Stock.prototype.setEquation=function(e){return o.Message.setWrapperField(this,8,e)},n.project_io.Variable.Stock.prototype.clearEquation=function(){return this.setEquation(void 0)},n.project_io.Variable.Stock.prototype.hasEquation=function(){return null!=o.Message.getField(this,8)},n.project_io.Variable.Stock.prototype.getDocumentation=function(){return o.Message.getFieldWithDefault(this,3,"")},n.project_io.Variable.Stock.prototype.setDocumentation=function(e){return o.Message.setProto3StringField(this,3,e)},n.project_io.Variable.Stock.prototype.getUnits=function(){return o.Message.getFieldWithDefault(this,4,"")},n.project_io.Variable.Stock.prototype.setUnits=function(e){return o.Message.setProto3StringField(this,4,e)},n.project_io.Variable.Stock.prototype.getInflowsList=function(){return o.Message.getRepeatedField(this,5)},n.project_io.Variable.Stock.prototype.setInflowsList=function(e){return o.Message.setField(this,5,e||[])},n.project_io.Variable.Stock.prototype.addInflows=function(e,t){return o.Message.addToRepeatedField(this,5,e,t)},n.project_io.Variable.Stock.prototype.clearInflowsList=function(){return this.setInflowsList([])},n.project_io.Variable.Stock.prototype.getOutflowsList=function(){return o.Message.getRepeatedField(this,6)},n.project_io.Variable.Stock.prototype.setOutflowsList=function(e){return o.Message.setField(this,6,e||[])},n.project_io.Variable.Stock.prototype.addOutflows=function(e,t){return o.Message.addToRepeatedField(this,6,e,t)},n.project_io.Variable.Stock.prototype.clearOutflowsList=function(){return this.setOutflowsList([])},n.project_io.Variable.Stock.prototype.getNonNegative=function(){return o.Message.getBooleanFieldWithDefault(this,7,!1)},n.project_io.Variable.Stock.prototype.setNonNegative=function(e){return o.Message.setProto3BooleanField(this,7,e)},o.Message.GENERATE_TO_OBJECT&&(n.project_io.Variable.Flow.prototype.toObject=function(e){return n.project_io.Variable.Flow.toObject(e,this)},n.project_io.Variable.Flow.toObject=function(e,t){var i,r={ident:o.Message.getFieldWithDefault(t,1,""),equation:(i=t.getEquation())&&n.project_io.Variable.Equation.toObject(e,i),documentation:o.Message.getFieldWithDefault(t,3,""),units:o.Message.getFieldWithDefault(t,4,""),gf:(i=t.getGf())&&n.project_io.GraphicalFunction.toObject(e,i),nonNegative:o.Message.getBooleanFieldWithDefault(t,7,!1)};return e&&(r.$jspbMessageInstance=t),r}),n.project_io.Variable.Flow.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new n.project_io.Variable.Flow;return n.project_io.Variable.Flow.deserializeBinaryFromReader(i,t)},n.project_io.Variable.Flow.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var i=t.readString();e.setIdent(i);break;case 8:i=new n.project_io.Variable.Equation;t.readMessage(i,n.project_io.Variable.Equation.deserializeBinaryFromReader),e.setEquation(i);break;case 3:i=t.readString();e.setDocumentation(i);break;case 4:i=t.readString();e.setUnits(i);break;case 5:i=new n.project_io.GraphicalFunction;t.readMessage(i,n.project_io.GraphicalFunction.deserializeBinaryFromReader),e.setGf(i);break;case 7:i=t.readBool();e.setNonNegative(i);break;default:t.skipField()}}return e},n.project_io.Variable.Flow.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return n.project_io.Variable.Flow.serializeBinaryToWriter(this,e),e.getResultBuffer()},n.project_io.Variable.Flow.serializeBinaryToWriter=function(e,t){var i=void 0;(i=e.getIdent()).length>0&&t.writeString(1,i),null!=(i=e.getEquation())&&t.writeMessage(8,i,n.project_io.Variable.Equation.serializeBinaryToWriter),(i=e.getDocumentation()).length>0&&t.writeString(3,i),(i=e.getUnits()).length>0&&t.writeString(4,i),null!=(i=e.getGf())&&t.writeMessage(5,i,n.project_io.GraphicalFunction.serializeBinaryToWriter),(i=e.getNonNegative())&&t.writeBool(7,i)},n.project_io.Variable.Flow.prototype.getIdent=function(){return o.Message.getFieldWithDefault(this,1,"")},n.project_io.Variable.Flow.prototype.setIdent=function(e){return o.Message.setProto3StringField(this,1,e)},n.project_io.Variable.Flow.prototype.getEquation=function(){return o.Message.getWrapperField(this,n.project_io.Variable.Equation,8)},n.project_io.Variable.Flow.prototype.setEquation=function(e){return o.Message.setWrapperField(this,8,e)},n.project_io.Variable.Flow.prototype.clearEquation=function(){return this.setEquation(void 0)},n.project_io.Variable.Flow.prototype.hasEquation=function(){return null!=o.Message.getField(this,8)},n.project_io.Variable.Flow.prototype.getDocumentation=function(){return o.Message.getFieldWithDefault(this,3,"")},n.project_io.Variable.Flow.prototype.setDocumentation=function(e){return o.Message.setProto3StringField(this,3,e)},n.project_io.Variable.Flow.prototype.getUnits=function(){return o.Message.getFieldWithDefault(this,4,"")},n.project_io.Variable.Flow.prototype.setUnits=function(e){return o.Message.setProto3StringField(this,4,e)},n.project_io.Variable.Flow.prototype.getGf=function(){return o.Message.getWrapperField(this,n.project_io.GraphicalFunction,5)},n.project_io.Variable.Flow.prototype.setGf=function(e){return o.Message.setWrapperField(this,5,e)},n.project_io.Variable.Flow.prototype.clearGf=function(){return this.setGf(void 0)},n.project_io.Variable.Flow.prototype.hasGf=function(){return null!=o.Message.getField(this,5)},n.project_io.Variable.Flow.prototype.getNonNegative=function(){return o.Message.getBooleanFieldWithDefault(this,7,!1)},n.project_io.Variable.Flow.prototype.setNonNegative=function(e){return o.Message.setProto3BooleanField(this,7,e)},o.Message.GENERATE_TO_OBJECT&&(n.project_io.Variable.Aux.prototype.toObject=function(e){return n.project_io.Variable.Aux.toObject(e,this)},n.project_io.Variable.Aux.toObject=function(e,t){var i,r={ident:o.Message.getFieldWithDefault(t,1,""),equation:(i=t.getEquation())&&n.project_io.Variable.Equation.toObject(e,i),documentation:o.Message.getFieldWithDefault(t,3,""),units:o.Message.getFieldWithDefault(t,4,""),gf:(i=t.getGf())&&n.project_io.GraphicalFunction.toObject(e,i)};return e&&(r.$jspbMessageInstance=t),r}),n.project_io.Variable.Aux.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new n.project_io.Variable.Aux;return n.project_io.Variable.Aux.deserializeBinaryFromReader(i,t)},n.project_io.Variable.Aux.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var i=t.readString();e.setIdent(i);break;case 6:i=new n.project_io.Variable.Equation;t.readMessage(i,n.project_io.Variable.Equation.deserializeBinaryFromReader),e.setEquation(i);break;case 3:i=t.readString();e.setDocumentation(i);break;case 4:i=t.readString();e.setUnits(i);break;case 5:i=new n.project_io.GraphicalFunction;t.readMessage(i,n.project_io.GraphicalFunction.deserializeBinaryFromReader),e.setGf(i);break;default:t.skipField()}}return e},n.project_io.Variable.Aux.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return n.project_io.Variable.Aux.serializeBinaryToWriter(this,e),e.getResultBuffer()},n.project_io.Variable.Aux.serializeBinaryToWriter=function(e,t){var i=void 0;(i=e.getIdent()).length>0&&t.writeString(1,i),null!=(i=e.getEquation())&&t.writeMessage(6,i,n.project_io.Variable.Equation.serializeBinaryToWriter),(i=e.getDocumentation()).length>0&&t.writeString(3,i),(i=e.getUnits()).length>0&&t.writeString(4,i),null!=(i=e.getGf())&&t.writeMessage(5,i,n.project_io.GraphicalFunction.serializeBinaryToWriter)},n.project_io.Variable.Aux.prototype.getIdent=function(){return o.Message.getFieldWithDefault(this,1,"")},n.project_io.Variable.Aux.prototype.setIdent=function(e){return o.Message.setProto3StringField(this,1,e)},n.project_io.Variable.Aux.prototype.getEquation=function(){return o.Message.getWrapperField(this,n.project_io.Variable.Equation,6)},n.project_io.Variable.Aux.prototype.setEquation=function(e){return o.Message.setWrapperField(this,6,e)},n.project_io.Variable.Aux.prototype.clearEquation=function(){return this.setEquation(void 0)},n.project_io.Variable.Aux.prototype.hasEquation=function(){return null!=o.Message.getField(this,6)},n.project_io.Variable.Aux.prototype.getDocumentation=function(){return o.Message.getFieldWithDefault(this,3,"")},n.project_io.Variable.Aux.prototype.setDocumentation=function(e){return o.Message.setProto3StringField(this,3,e)},n.project_io.Variable.Aux.prototype.getUnits=function(){return o.Message.getFieldWithDefault(this,4,"")},n.project_io.Variable.Aux.prototype.setUnits=function(e){return o.Message.setProto3StringField(this,4,e)},n.project_io.Variable.Aux.prototype.getGf=function(){return o.Message.getWrapperField(this,n.project_io.GraphicalFunction,5)},n.project_io.Variable.Aux.prototype.setGf=function(e){return o.Message.setWrapperField(this,5,e)},n.project_io.Variable.Aux.prototype.clearGf=function(){return this.setGf(void 0)},n.project_io.Variable.Aux.prototype.hasGf=function(){return null!=o.Message.getField(this,5)},n.project_io.Variable.Module.repeatedFields_=[5],o.Message.GENERATE_TO_OBJECT&&(n.project_io.Variable.Module.prototype.toObject=function(e){return n.project_io.Variable.Module.toObject(e,this)},n.project_io.Variable.Module.toObject=function(e,t){var i={ident:o.Message.getFieldWithDefault(t,1,""),modelName:o.Message.getFieldWithDefault(t,2,""),documentation:o.Message.getFieldWithDefault(t,3,""),units:o.Message.getFieldWithDefault(t,4,""),referencesList:o.Message.toObjectList(t.getReferencesList(),n.project_io.Variable.Module.Reference.toObject,e)};return e&&(i.$jspbMessageInstance=t),i}),n.project_io.Variable.Module.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new n.project_io.Variable.Module;return n.project_io.Variable.Module.deserializeBinaryFromReader(i,t)},n.project_io.Variable.Module.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var i=t.readString();e.setIdent(i);break;case 2:i=t.readString();e.setModelName(i);break;case 3:i=t.readString();e.setDocumentation(i);break;case 4:i=t.readString();e.setUnits(i);break;case 5:i=new n.project_io.Variable.Module.Reference;t.readMessage(i,n.project_io.Variable.Module.Reference.deserializeBinaryFromReader),e.addReferences(i);break;default:t.skipField()}}return e},n.project_io.Variable.Module.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return n.project_io.Variable.Module.serializeBinaryToWriter(this,e),e.getResultBuffer()},n.project_io.Variable.Module.serializeBinaryToWriter=function(e,t){var i=void 0;(i=e.getIdent()).length>0&&t.writeString(1,i),(i=e.getModelName()).length>0&&t.writeString(2,i),(i=e.getDocumentation()).length>0&&t.writeString(3,i),(i=e.getUnits()).length>0&&t.writeString(4,i),(i=e.getReferencesList()).length>0&&t.writeRepeatedMessage(5,i,n.project_io.Variable.Module.Reference.serializeBinaryToWriter)},o.Message.GENERATE_TO_OBJECT&&(n.project_io.Variable.Module.Reference.prototype.toObject=function(e){return n.project_io.Variable.Module.Reference.toObject(e,this)},n.project_io.Variable.Module.Reference.toObject=function(e,t){var i={src:o.Message.getFieldWithDefault(t,1,""),dst:o.Message.getFieldWithDefault(t,2,"")};return e&&(i.$jspbMessageInstance=t),i}),n.project_io.Variable.Module.Reference.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new n.project_io.Variable.Module.Reference;return n.project_io.Variable.Module.Reference.deserializeBinaryFromReader(i,t)},n.project_io.Variable.Module.Reference.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var i=t.readString();e.setSrc(i);break;case 2:i=t.readString();e.setDst(i);break;default:t.skipField()}}return e},n.project_io.Variable.Module.Reference.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return n.project_io.Variable.Module.Reference.serializeBinaryToWriter(this,e),e.getResultBuffer()},n.project_io.Variable.Module.Reference.serializeBinaryToWriter=function(e,t){var i=void 0;(i=e.getSrc()).length>0&&t.writeString(1,i),(i=e.getDst()).length>0&&t.writeString(2,i)},n.project_io.Variable.Module.Reference.prototype.getSrc=function(){return o.Message.getFieldWithDefault(this,1,"")},n.project_io.Variable.Module.Reference.prototype.setSrc=function(e){return o.Message.setProto3StringField(this,1,e)},n.project_io.Variable.Module.Reference.prototype.getDst=function(){return o.Message.getFieldWithDefault(this,2,"")},n.project_io.Variable.Module.Reference.prototype.setDst=function(e){return o.Message.setProto3StringField(this,2,e)},n.project_io.Variable.Module.prototype.getIdent=function(){return o.Message.getFieldWithDefault(this,1,"")},n.project_io.Variable.Module.prototype.setIdent=function(e){return o.Message.setProto3StringField(this,1,e)},n.project_io.Variable.Module.prototype.getModelName=function(){return o.Message.getFieldWithDefault(this,2,"")},n.project_io.Variable.Module.prototype.setModelName=function(e){return o.Message.setProto3StringField(this,2,e)},n.project_io.Variable.Module.prototype.getDocumentation=function(){return o.Message.getFieldWithDefault(this,3,"")},n.project_io.Variable.Module.prototype.setDocumentation=function(e){return o.Message.setProto3StringField(this,3,e)},n.project_io.Variable.Module.prototype.getUnits=function(){return o.Message.getFieldWithDefault(this,4,"")},n.project_io.Variable.Module.prototype.setUnits=function(e){return o.Message.setProto3StringField(this,4,e)},n.project_io.Variable.Module.prototype.getReferencesList=function(){return o.Message.getRepeatedWrapperField(this,n.project_io.Variable.Module.Reference,5)},n.project_io.Variable.Module.prototype.setReferencesList=function(e){return o.Message.setRepeatedWrapperField(this,5,e)},n.project_io.Variable.Module.prototype.addReferences=function(e,t){return o.Message.addToRepeatedWrapperField(this,5,e,n.project_io.Variable.Module.Reference,t)},n.project_io.Variable.Module.prototype.clearReferencesList=function(){return this.setReferencesList([])},n.project_io.Variable.prototype.getStock=function(){return o.Message.getWrapperField(this,n.project_io.Variable.Stock,1)},n.project_io.Variable.prototype.setStock=function(e){return o.Message.setOneofWrapperField(this,1,n.project_io.Variable.oneofGroups_[0],e)},n.project_io.Variable.prototype.clearStock=function(){return this.setStock(void 0)},n.project_io.Variable.prototype.hasStock=function(){return null!=o.Message.getField(this,1)},n.project_io.Variable.prototype.getFlow=function(){return o.Message.getWrapperField(this,n.project_io.Variable.Flow,2)},n.project_io.Variable.prototype.setFlow=function(e){return o.Message.setOneofWrapperField(this,2,n.project_io.Variable.oneofGroups_[0],e)},n.project_io.Variable.prototype.clearFlow=function(){return this.setFlow(void 0)},n.project_io.Variable.prototype.hasFlow=function(){return null!=o.Message.getField(this,2)},n.project_io.Variable.prototype.getAux=function(){return o.Message.getWrapperField(this,n.project_io.Variable.Aux,3)},n.project_io.Variable.prototype.setAux=function(e){return o.Message.setOneofWrapperField(this,3,n.project_io.Variable.oneofGroups_[0],e)},n.project_io.Variable.prototype.clearAux=function(){return this.setAux(void 0)},n.project_io.Variable.prototype.hasAux=function(){return null!=o.Message.getField(this,3)},n.project_io.Variable.prototype.getModule=function(){return o.Message.getWrapperField(this,n.project_io.Variable.Module,4)},n.project_io.Variable.prototype.setModule=function(e){return o.Message.setOneofWrapperField(this,4,n.project_io.Variable.oneofGroups_[0],e)},n.project_io.Variable.prototype.clearModule=function(){return this.setModule(void 0)},n.project_io.Variable.prototype.hasModule=function(){return null!=o.Message.getField(this,4)},n.project_io.ViewElement.oneofGroups_=[[1,2,3,4,5,6,7]],n.project_io.ViewElement.ElementCase={ELEMENT_NOT_SET:0,AUX:1,STOCK:2,FLOW:3,LINK:4,MODULE:5,ALIAS:6,CLOUD:7},n.project_io.ViewElement.prototype.getElementCase=function(){return o.Message.computeOneofCase(this,n.project_io.ViewElement.oneofGroups_[0])},o.Message.GENERATE_TO_OBJECT&&(n.project_io.ViewElement.prototype.toObject=function(e){return n.project_io.ViewElement.toObject(e,this)},n.project_io.ViewElement.toObject=function(e,t){var i,o={aux:(i=t.getAux())&&n.project_io.ViewElement.Aux.toObject(e,i),stock:(i=t.getStock())&&n.project_io.ViewElement.Stock.toObject(e,i),flow:(i=t.getFlow())&&n.project_io.ViewElement.Flow.toObject(e,i),link:(i=t.getLink())&&n.project_io.ViewElement.Link.toObject(e,i),module:(i=t.getModule())&&n.project_io.ViewElement.Module.toObject(e,i),alias:(i=t.getAlias())&&n.project_io.ViewElement.Alias.toObject(e,i),cloud:(i=t.getCloud())&&n.project_io.ViewElement.Cloud.toObject(e,i)};return e&&(o.$jspbMessageInstance=t),o}),n.project_io.ViewElement.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new n.project_io.ViewElement;return n.project_io.ViewElement.deserializeBinaryFromReader(i,t)},n.project_io.ViewElement.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var i=new n.project_io.ViewElement.Aux;t.readMessage(i,n.project_io.ViewElement.Aux.deserializeBinaryFromReader),e.setAux(i);break;case 2:i=new n.project_io.ViewElement.Stock;t.readMessage(i,n.project_io.ViewElement.Stock.deserializeBinaryFromReader),e.setStock(i);break;case 3:i=new n.project_io.ViewElement.Flow;t.readMessage(i,n.project_io.ViewElement.Flow.deserializeBinaryFromReader),e.setFlow(i);break;case 4:i=new n.project_io.ViewElement.Link;t.readMessage(i,n.project_io.ViewElement.Link.deserializeBinaryFromReader),e.setLink(i);break;case 5:i=new n.project_io.ViewElement.Module;t.readMessage(i,n.project_io.ViewElement.Module.deserializeBinaryFromReader),e.setModule(i);break;case 6:i=new n.project_io.ViewElement.Alias;t.readMessage(i,n.project_io.ViewElement.Alias.deserializeBinaryFromReader),e.setAlias(i);break;case 7:i=new n.project_io.ViewElement.Cloud;t.readMessage(i,n.project_io.ViewElement.Cloud.deserializeBinaryFromReader),e.setCloud(i);break;default:t.skipField()}}return e},n.project_io.ViewElement.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return n.project_io.ViewElement.serializeBinaryToWriter(this,e),e.getResultBuffer()},n.project_io.ViewElement.serializeBinaryToWriter=function(e,t){var i=void 0;null!=(i=e.getAux())&&t.writeMessage(1,i,n.project_io.ViewElement.Aux.serializeBinaryToWriter),null!=(i=e.getStock())&&t.writeMessage(2,i,n.project_io.ViewElement.Stock.serializeBinaryToWriter),null!=(i=e.getFlow())&&t.writeMessage(3,i,n.project_io.ViewElement.Flow.serializeBinaryToWriter),null!=(i=e.getLink())&&t.writeMessage(4,i,n.project_io.ViewElement.Link.serializeBinaryToWriter),null!=(i=e.getModule())&&t.writeMessage(5,i,n.project_io.ViewElement.Module.serializeBinaryToWriter),null!=(i=e.getAlias())&&t.writeMessage(6,i,n.project_io.ViewElement.Alias.serializeBinaryToWriter),null!=(i=e.getCloud())&&t.writeMessage(7,i,n.project_io.ViewElement.Cloud.serializeBinaryToWriter)},n.project_io.ViewElement.LabelSide={TOP:0,LEFT:1,CENTER:2,BOTTOM:3,RIGHT:4},o.Message.GENERATE_TO_OBJECT&&(n.project_io.ViewElement.Aux.prototype.toObject=function(e){return n.project_io.ViewElement.Aux.toObject(e,this)},n.project_io.ViewElement.Aux.toObject=function(e,t){var i={name:o.Message.getFieldWithDefault(t,1,""),uid:o.Message.getFieldWithDefault(t,2,0),x:o.Message.getFloatingPointFieldWithDefault(t,3,0),y:o.Message.getFloatingPointFieldWithDefault(t,4,0),labelSide:o.Message.getFieldWithDefault(t,5,0)};return e&&(i.$jspbMessageInstance=t),i}),n.project_io.ViewElement.Aux.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new n.project_io.ViewElement.Aux;return n.project_io.ViewElement.Aux.deserializeBinaryFromReader(i,t)},n.project_io.ViewElement.Aux.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var i=t.readString();e.setName(i);break;case 2:i=t.readInt32();e.setUid(i);break;case 3:i=t.readDouble();e.setX(i);break;case 4:i=t.readDouble();e.setY(i);break;case 5:i=t.readEnum();e.setLabelSide(i);break;default:t.skipField()}}return e},n.project_io.ViewElement.Aux.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return n.project_io.ViewElement.Aux.serializeBinaryToWriter(this,e),e.getResultBuffer()},n.project_io.ViewElement.Aux.serializeBinaryToWriter=function(e,t){var i=void 0;(i=e.getName()).length>0&&t.writeString(1,i),0!==(i=e.getUid())&&t.writeInt32(2,i),0!==(i=e.getX())&&t.writeDouble(3,i),0!==(i=e.getY())&&t.writeDouble(4,i),0!==(i=e.getLabelSide())&&t.writeEnum(5,i)},n.project_io.ViewElement.Aux.prototype.getName=function(){return o.Message.getFieldWithDefault(this,1,"")},n.project_io.ViewElement.Aux.prototype.setName=function(e){return o.Message.setProto3StringField(this,1,e)},n.project_io.ViewElement.Aux.prototype.getUid=function(){return o.Message.getFieldWithDefault(this,2,0)},n.project_io.ViewElement.Aux.prototype.setUid=function(e){return o.Message.setProto3IntField(this,2,e)},n.project_io.ViewElement.Aux.prototype.getX=function(){return o.Message.getFloatingPointFieldWithDefault(this,3,0)},n.project_io.ViewElement.Aux.prototype.setX=function(e){return o.Message.setProto3FloatField(this,3,e)},n.project_io.ViewElement.Aux.prototype.getY=function(){return o.Message.getFloatingPointFieldWithDefault(this,4,0)},n.project_io.ViewElement.Aux.prototype.setY=function(e){return o.Message.setProto3FloatField(this,4,e)},n.project_io.ViewElement.Aux.prototype.getLabelSide=function(){return o.Message.getFieldWithDefault(this,5,0)},n.project_io.ViewElement.Aux.prototype.setLabelSide=function(e){return o.Message.setProto3EnumField(this,5,e)},o.Message.GENERATE_TO_OBJECT&&(n.project_io.ViewElement.Stock.prototype.toObject=function(e){return n.project_io.ViewElement.Stock.toObject(e,this)},n.project_io.ViewElement.Stock.toObject=function(e,t){var i={name:o.Message.getFieldWithDefault(t,1,""),uid:o.Message.getFieldWithDefault(t,2,0),x:o.Message.getFloatingPointFieldWithDefault(t,3,0),y:o.Message.getFloatingPointFieldWithDefault(t,4,0),labelSide:o.Message.getFieldWithDefault(t,5,0)};return e&&(i.$jspbMessageInstance=t),i}),n.project_io.ViewElement.Stock.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new n.project_io.ViewElement.Stock;return n.project_io.ViewElement.Stock.deserializeBinaryFromReader(i,t)},n.project_io.ViewElement.Stock.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var i=t.readString();e.setName(i);break;case 2:i=t.readInt32();e.setUid(i);break;case 3:i=t.readDouble();e.setX(i);break;case 4:i=t.readDouble();e.setY(i);break;case 5:i=t.readEnum();e.setLabelSide(i);break;default:t.skipField()}}return e},n.project_io.ViewElement.Stock.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return n.project_io.ViewElement.Stock.serializeBinaryToWriter(this,e),e.getResultBuffer()},n.project_io.ViewElement.Stock.serializeBinaryToWriter=function(e,t){var i=void 0;(i=e.getName()).length>0&&t.writeString(1,i),0!==(i=e.getUid())&&t.writeInt32(2,i),0!==(i=e.getX())&&t.writeDouble(3,i),0!==(i=e.getY())&&t.writeDouble(4,i),0!==(i=e.getLabelSide())&&t.writeEnum(5,i)},n.project_io.ViewElement.Stock.prototype.getName=function(){return o.Message.getFieldWithDefault(this,1,"")},n.project_io.ViewElement.Stock.prototype.setName=function(e){return o.Message.setProto3StringField(this,1,e)},n.project_io.ViewElement.Stock.prototype.getUid=function(){return o.Message.getFieldWithDefault(this,2,0)},n.project_io.ViewElement.Stock.prototype.setUid=function(e){return o.Message.setProto3IntField(this,2,e)},n.project_io.ViewElement.Stock.prototype.getX=function(){return o.Message.getFloatingPointFieldWithDefault(this,3,0)},n.project_io.ViewElement.Stock.prototype.setX=function(e){return o.Message.setProto3FloatField(this,3,e)},n.project_io.ViewElement.Stock.prototype.getY=function(){return o.Message.getFloatingPointFieldWithDefault(this,4,0)},n.project_io.ViewElement.Stock.prototype.setY=function(e){return o.Message.setProto3FloatField(this,4,e)},n.project_io.ViewElement.Stock.prototype.getLabelSide=function(){return o.Message.getFieldWithDefault(this,5,0)},n.project_io.ViewElement.Stock.prototype.setLabelSide=function(e){return o.Message.setProto3EnumField(this,5,e)},o.Message.GENERATE_TO_OBJECT&&(n.project_io.ViewElement.FlowPoint.prototype.toObject=function(e){return n.project_io.ViewElement.FlowPoint.toObject(e,this)},n.project_io.ViewElement.FlowPoint.toObject=function(e,t){var i={x:o.Message.getFloatingPointFieldWithDefault(t,1,0),y:o.Message.getFloatingPointFieldWithDefault(t,2,0),attachedToUid:o.Message.getFieldWithDefault(t,3,0)};return e&&(i.$jspbMessageInstance=t),i}),n.project_io.ViewElement.FlowPoint.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new n.project_io.ViewElement.FlowPoint;return n.project_io.ViewElement.FlowPoint.deserializeBinaryFromReader(i,t)},n.project_io.ViewElement.FlowPoint.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var i=t.readDouble();e.setX(i);break;case 2:i=t.readDouble();e.setY(i);break;case 3:i=t.readInt32();e.setAttachedToUid(i);break;default:t.skipField()}}return e},n.project_io.ViewElement.FlowPoint.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return n.project_io.ViewElement.FlowPoint.serializeBinaryToWriter(this,e),e.getResultBuffer()},n.project_io.ViewElement.FlowPoint.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getX())&&t.writeDouble(1,i),0!==(i=e.getY())&&t.writeDouble(2,i),0!==(i=e.getAttachedToUid())&&t.writeInt32(3,i)},n.project_io.ViewElement.FlowPoint.prototype.getX=function(){return o.Message.getFloatingPointFieldWithDefault(this,1,0)},n.project_io.ViewElement.FlowPoint.prototype.setX=function(e){return o.Message.setProto3FloatField(this,1,e)},n.project_io.ViewElement.FlowPoint.prototype.getY=function(){return o.Message.getFloatingPointFieldWithDefault(this,2,0)},n.project_io.ViewElement.FlowPoint.prototype.setY=function(e){return o.Message.setProto3FloatField(this,2,e)},n.project_io.ViewElement.FlowPoint.prototype.getAttachedToUid=function(){return o.Message.getFieldWithDefault(this,3,0)},n.project_io.ViewElement.FlowPoint.prototype.setAttachedToUid=function(e){return o.Message.setProto3IntField(this,3,e)},n.project_io.ViewElement.Flow.repeatedFields_=[6],o.Message.GENERATE_TO_OBJECT&&(n.project_io.ViewElement.Flow.prototype.toObject=function(e){return n.project_io.ViewElement.Flow.toObject(e,this)},n.project_io.ViewElement.Flow.toObject=function(e,t){var i={name:o.Message.getFieldWithDefault(t,1,""),uid:o.Message.getFieldWithDefault(t,2,0),x:o.Message.getFloatingPointFieldWithDefault(t,3,0),y:o.Message.getFloatingPointFieldWithDefault(t,4,0),labelSide:o.Message.getFieldWithDefault(t,5,0),pointsList:o.Message.toObjectList(t.getPointsList(),n.project_io.ViewElement.FlowPoint.toObject,e)};return e&&(i.$jspbMessageInstance=t),i}),n.project_io.ViewElement.Flow.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new n.project_io.ViewElement.Flow;return n.project_io.ViewElement.Flow.deserializeBinaryFromReader(i,t)},n.project_io.ViewElement.Flow.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var i=t.readString();e.setName(i);break;case 2:i=t.readInt32();e.setUid(i);break;case 3:i=t.readDouble();e.setX(i);break;case 4:i=t.readDouble();e.setY(i);break;case 5:i=t.readEnum();e.setLabelSide(i);break;case 6:i=new n.project_io.ViewElement.FlowPoint;t.readMessage(i,n.project_io.ViewElement.FlowPoint.deserializeBinaryFromReader),e.addPoints(i);break;default:t.skipField()}}return e},n.project_io.ViewElement.Flow.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return n.project_io.ViewElement.Flow.serializeBinaryToWriter(this,e),e.getResultBuffer()},n.project_io.ViewElement.Flow.serializeBinaryToWriter=function(e,t){var i=void 0;(i=e.getName()).length>0&&t.writeString(1,i),0!==(i=e.getUid())&&t.writeInt32(2,i),0!==(i=e.getX())&&t.writeDouble(3,i),0!==(i=e.getY())&&t.writeDouble(4,i),0!==(i=e.getLabelSide())&&t.writeEnum(5,i),(i=e.getPointsList()).length>0&&t.writeRepeatedMessage(6,i,n.project_io.ViewElement.FlowPoint.serializeBinaryToWriter)},n.project_io.ViewElement.Flow.prototype.getName=function(){return o.Message.getFieldWithDefault(this,1,"")},n.project_io.ViewElement.Flow.prototype.setName=function(e){return o.Message.setProto3StringField(this,1,e)},n.project_io.ViewElement.Flow.prototype.getUid=function(){return o.Message.getFieldWithDefault(this,2,0)},n.project_io.ViewElement.Flow.prototype.setUid=function(e){return o.Message.setProto3IntField(this,2,e)},n.project_io.ViewElement.Flow.prototype.getX=function(){return o.Message.getFloatingPointFieldWithDefault(this,3,0)},n.project_io.ViewElement.Flow.prototype.setX=function(e){return o.Message.setProto3FloatField(this,3,e)},n.project_io.ViewElement.Flow.prototype.getY=function(){return o.Message.getFloatingPointFieldWithDefault(this,4,0)},n.project_io.ViewElement.Flow.prototype.setY=function(e){return o.Message.setProto3FloatField(this,4,e)},n.project_io.ViewElement.Flow.prototype.getLabelSide=function(){return o.Message.getFieldWithDefault(this,5,0)},n.project_io.ViewElement.Flow.prototype.setLabelSide=function(e){return o.Message.setProto3EnumField(this,5,e)},n.project_io.ViewElement.Flow.prototype.getPointsList=function(){return o.Message.getRepeatedWrapperField(this,n.project_io.ViewElement.FlowPoint,6)},n.project_io.ViewElement.Flow.prototype.setPointsList=function(e){return o.Message.setRepeatedWrapperField(this,6,e)},n.project_io.ViewElement.Flow.prototype.addPoints=function(e,t){return o.Message.addToRepeatedWrapperField(this,6,e,n.project_io.ViewElement.FlowPoint,t)},n.project_io.ViewElement.Flow.prototype.clearPointsList=function(){return this.setPointsList([])},n.project_io.ViewElement.Link.oneofGroups_=[[4,5,6]],n.project_io.ViewElement.Link.ShapeCase={SHAPE_NOT_SET:0,ARC:4,IS_STRAIGHT:5,MULTI_POINT:6},n.project_io.ViewElement.Link.prototype.getShapeCase=function(){return o.Message.computeOneofCase(this,n.project_io.ViewElement.Link.oneofGroups_[0])},o.Message.GENERATE_TO_OBJECT&&(n.project_io.ViewElement.Link.prototype.toObject=function(e){return n.project_io.ViewElement.Link.toObject(e,this)},n.project_io.ViewElement.Link.toObject=function(e,t){var i,r={uid:o.Message.getFieldWithDefault(t,1,0),fromUid:o.Message.getFieldWithDefault(t,2,0),toUid:o.Message.getFieldWithDefault(t,3,0),arc:o.Message.getFloatingPointFieldWithDefault(t,4,0),isStraight:o.Message.getBooleanFieldWithDefault(t,5,!1),multiPoint:(i=t.getMultiPoint())&&n.project_io.ViewElement.Link.LinkPoints.toObject(e,i)};return e&&(r.$jspbMessageInstance=t),r}),n.project_io.ViewElement.Link.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new n.project_io.ViewElement.Link;return n.project_io.ViewElement.Link.deserializeBinaryFromReader(i,t)},n.project_io.ViewElement.Link.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setUid(i);break;case 2:i=t.readInt32();e.setFromUid(i);break;case 3:i=t.readInt32();e.setToUid(i);break;case 4:i=t.readDouble();e.setArc(i);break;case 5:i=t.readBool();e.setIsStraight(i);break;case 6:i=new n.project_io.ViewElement.Link.LinkPoints;t.readMessage(i,n.project_io.ViewElement.Link.LinkPoints.deserializeBinaryFromReader),e.setMultiPoint(i);break;default:t.skipField()}}return e},n.project_io.ViewElement.Link.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return n.project_io.ViewElement.Link.serializeBinaryToWriter(this,e),e.getResultBuffer()},n.project_io.ViewElement.Link.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getUid())&&t.writeInt32(1,i),0!==(i=e.getFromUid())&&t.writeInt32(2,i),0!==(i=e.getToUid())&&t.writeInt32(3,i),null!=(i=o.Message.getField(e,4))&&t.writeDouble(4,i),null!=(i=o.Message.getField(e,5))&&t.writeBool(5,i),null!=(i=e.getMultiPoint())&&t.writeMessage(6,i,n.project_io.ViewElement.Link.LinkPoints.serializeBinaryToWriter)},n.project_io.ViewElement.Link.LinkPoints.repeatedFields_=[1],o.Message.GENERATE_TO_OBJECT&&(n.project_io.ViewElement.Link.LinkPoints.prototype.toObject=function(e){return n.project_io.ViewElement.Link.LinkPoints.toObject(e,this)},n.project_io.ViewElement.Link.LinkPoints.toObject=function(e,t){var i={pointsList:o.Message.toObjectList(t.getPointsList(),n.project_io.ViewElement.FlowPoint.toObject,e)};return e&&(i.$jspbMessageInstance=t),i}),n.project_io.ViewElement.Link.LinkPoints.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new n.project_io.ViewElement.Link.LinkPoints;return n.project_io.ViewElement.Link.LinkPoints.deserializeBinaryFromReader(i,t)},n.project_io.ViewElement.Link.LinkPoints.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var i=new n.project_io.ViewElement.FlowPoint;t.readMessage(i,n.project_io.ViewElement.FlowPoint.deserializeBinaryFromReader),e.addPoints(i);break;default:t.skipField()}}return e},n.project_io.ViewElement.Link.LinkPoints.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return n.project_io.ViewElement.Link.LinkPoints.serializeBinaryToWriter(this,e),e.getResultBuffer()},n.project_io.ViewElement.Link.LinkPoints.serializeBinaryToWriter=function(e,t){var i;(i=e.getPointsList()).length>0&&t.writeRepeatedMessage(1,i,n.project_io.ViewElement.FlowPoint.serializeBinaryToWriter)},n.project_io.ViewElement.Link.LinkPoints.prototype.getPointsList=function(){return o.Message.getRepeatedWrapperField(this,n.project_io.ViewElement.FlowPoint,1)},n.project_io.ViewElement.Link.LinkPoints.prototype.setPointsList=function(e){return o.Message.setRepeatedWrapperField(this,1,e)},n.project_io.ViewElement.Link.LinkPoints.prototype.addPoints=function(e,t){return o.Message.addToRepeatedWrapperField(this,1,e,n.project_io.ViewElement.FlowPoint,t)},n.project_io.ViewElement.Link.LinkPoints.prototype.clearPointsList=function(){return this.setPointsList([])},n.project_io.ViewElement.Link.prototype.getUid=function(){return o.Message.getFieldWithDefault(this,1,0)},n.project_io.ViewElement.Link.prototype.setUid=function(e){return o.Message.setProto3IntField(this,1,e)},n.project_io.ViewElement.Link.prototype.getFromUid=function(){return o.Message.getFieldWithDefault(this,2,0)},n.project_io.ViewElement.Link.prototype.setFromUid=function(e){return o.Message.setProto3IntField(this,2,e)},n.project_io.ViewElement.Link.prototype.getToUid=function(){return o.Message.getFieldWithDefault(this,3,0)},n.project_io.ViewElement.Link.prototype.setToUid=function(e){return o.Message.setProto3IntField(this,3,e)},n.project_io.ViewElement.Link.prototype.getArc=function(){return o.Message.getFloatingPointFieldWithDefault(this,4,0)},n.project_io.ViewElement.Link.prototype.setArc=function(e){return o.Message.setOneofField(this,4,n.project_io.ViewElement.Link.oneofGroups_[0],e)},n.project_io.ViewElement.Link.prototype.clearArc=function(){return o.Message.setOneofField(this,4,n.project_io.ViewElement.Link.oneofGroups_[0],void 0)},n.project_io.ViewElement.Link.prototype.hasArc=function(){return null!=o.Message.getField(this,4)},n.project_io.ViewElement.Link.prototype.getIsStraight=function(){return o.Message.getBooleanFieldWithDefault(this,5,!1)},n.project_io.ViewElement.Link.prototype.setIsStraight=function(e){return o.Message.setOneofField(this,5,n.project_io.ViewElement.Link.oneofGroups_[0],e)},n.project_io.ViewElement.Link.prototype.clearIsStraight=function(){return o.Message.setOneofField(this,5,n.project_io.ViewElement.Link.oneofGroups_[0],void 0)},n.project_io.ViewElement.Link.prototype.hasIsStraight=function(){return null!=o.Message.getField(this,5)},n.project_io.ViewElement.Link.prototype.getMultiPoint=function(){return o.Message.getWrapperField(this,n.project_io.ViewElement.Link.LinkPoints,6)},n.project_io.ViewElement.Link.prototype.setMultiPoint=function(e){return o.Message.setOneofWrapperField(this,6,n.project_io.ViewElement.Link.oneofGroups_[0],e)},n.project_io.ViewElement.Link.prototype.clearMultiPoint=function(){return this.setMultiPoint(void 0)},n.project_io.ViewElement.Link.prototype.hasMultiPoint=function(){return null!=o.Message.getField(this,6)},o.Message.GENERATE_TO_OBJECT&&(n.project_io.ViewElement.Module.prototype.toObject=function(e){return n.project_io.ViewElement.Module.toObject(e,this)},n.project_io.ViewElement.Module.toObject=function(e,t){var i={name:o.Message.getFieldWithDefault(t,1,""),uid:o.Message.getFieldWithDefault(t,2,0),x:o.Message.getFloatingPointFieldWithDefault(t,3,0),y:o.Message.getFloatingPointFieldWithDefault(t,4,0),labelSide:o.Message.getFieldWithDefault(t,5,0)};return e&&(i.$jspbMessageInstance=t),i}),n.project_io.ViewElement.Module.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new n.project_io.ViewElement.Module;return n.project_io.ViewElement.Module.deserializeBinaryFromReader(i,t)},n.project_io.ViewElement.Module.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var i=t.readString();e.setName(i);break;case 2:i=t.readInt32();e.setUid(i);break;case 3:i=t.readDouble();e.setX(i);break;case 4:i=t.readDouble();e.setY(i);break;case 5:i=t.readEnum();e.setLabelSide(i);break;default:t.skipField()}}return e},n.project_io.ViewElement.Module.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return n.project_io.ViewElement.Module.serializeBinaryToWriter(this,e),e.getResultBuffer()},n.project_io.ViewElement.Module.serializeBinaryToWriter=function(e,t){var i=void 0;(i=e.getName()).length>0&&t.writeString(1,i),0!==(i=e.getUid())&&t.writeInt32(2,i),0!==(i=e.getX())&&t.writeDouble(3,i),0!==(i=e.getY())&&t.writeDouble(4,i),0!==(i=e.getLabelSide())&&t.writeEnum(5,i)},n.project_io.ViewElement.Module.prototype.getName=function(){return o.Message.getFieldWithDefault(this,1,"")},n.project_io.ViewElement.Module.prototype.setName=function(e){return o.Message.setProto3StringField(this,1,e)},n.project_io.ViewElement.Module.prototype.getUid=function(){return o.Message.getFieldWithDefault(this,2,0)},n.project_io.ViewElement.Module.prototype.setUid=function(e){return o.Message.setProto3IntField(this,2,e)},n.project_io.ViewElement.Module.prototype.getX=function(){return o.Message.getFloatingPointFieldWithDefault(this,3,0)},n.project_io.ViewElement.Module.prototype.setX=function(e){return o.Message.setProto3FloatField(this,3,e)},n.project_io.ViewElement.Module.prototype.getY=function(){return o.Message.getFloatingPointFieldWithDefault(this,4,0)},n.project_io.ViewElement.Module.prototype.setY=function(e){return o.Message.setProto3FloatField(this,4,e)},n.project_io.ViewElement.Module.prototype.getLabelSide=function(){return o.Message.getFieldWithDefault(this,5,0)},n.project_io.ViewElement.Module.prototype.setLabelSide=function(e){return o.Message.setProto3EnumField(this,5,e)},o.Message.GENERATE_TO_OBJECT&&(n.project_io.ViewElement.Alias.prototype.toObject=function(e){return n.project_io.ViewElement.Alias.toObject(e,this)},n.project_io.ViewElement.Alias.toObject=function(e,t){var i={uid:o.Message.getFieldWithDefault(t,1,0),aliasOfUid:o.Message.getFieldWithDefault(t,2,0),x:o.Message.getFloatingPointFieldWithDefault(t,3,0),y:o.Message.getFloatingPointFieldWithDefault(t,4,0),labelSide:o.Message.getFieldWithDefault(t,5,0)};return e&&(i.$jspbMessageInstance=t),i}),n.project_io.ViewElement.Alias.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new n.project_io.ViewElement.Alias;return n.project_io.ViewElement.Alias.deserializeBinaryFromReader(i,t)},n.project_io.ViewElement.Alias.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setUid(i);break;case 2:i=t.readInt32();e.setAliasOfUid(i);break;case 3:i=t.readDouble();e.setX(i);break;case 4:i=t.readDouble();e.setY(i);break;case 5:i=t.readEnum();e.setLabelSide(i);break;default:t.skipField()}}return e},n.project_io.ViewElement.Alias.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return n.project_io.ViewElement.Alias.serializeBinaryToWriter(this,e),e.getResultBuffer()},n.project_io.ViewElement.Alias.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getUid())&&t.writeInt32(1,i),0!==(i=e.getAliasOfUid())&&t.writeInt32(2,i),0!==(i=e.getX())&&t.writeDouble(3,i),0!==(i=e.getY())&&t.writeDouble(4,i),0!==(i=e.getLabelSide())&&t.writeEnum(5,i)},n.project_io.ViewElement.Alias.prototype.getUid=function(){return o.Message.getFieldWithDefault(this,1,0)},n.project_io.ViewElement.Alias.prototype.setUid=function(e){return o.Message.setProto3IntField(this,1,e)},n.project_io.ViewElement.Alias.prototype.getAliasOfUid=function(){return o.Message.getFieldWithDefault(this,2,0)},n.project_io.ViewElement.Alias.prototype.setAliasOfUid=function(e){return o.Message.setProto3IntField(this,2,e)},n.project_io.ViewElement.Alias.prototype.getX=function(){return o.Message.getFloatingPointFieldWithDefault(this,3,0)},n.project_io.ViewElement.Alias.prototype.setX=function(e){return o.Message.setProto3FloatField(this,3,e)},n.project_io.ViewElement.Alias.prototype.getY=function(){return o.Message.getFloatingPointFieldWithDefault(this,4,0)},n.project_io.ViewElement.Alias.prototype.setY=function(e){return o.Message.setProto3FloatField(this,4,e)},n.project_io.ViewElement.Alias.prototype.getLabelSide=function(){return o.Message.getFieldWithDefault(this,5,0)},n.project_io.ViewElement.Alias.prototype.setLabelSide=function(e){return o.Message.setProto3EnumField(this,5,e)},o.Message.GENERATE_TO_OBJECT&&(n.project_io.ViewElement.Cloud.prototype.toObject=function(e){return n.project_io.ViewElement.Cloud.toObject(e,this)},n.project_io.ViewElement.Cloud.toObject=function(e,t){var i={uid:o.Message.getFieldWithDefault(t,1,0),flowUid:o.Message.getFieldWithDefault(t,2,0),x:o.Message.getFloatingPointFieldWithDefault(t,3,0),y:o.Message.getFloatingPointFieldWithDefault(t,4,0)};return e&&(i.$jspbMessageInstance=t),i}),n.project_io.ViewElement.Cloud.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new n.project_io.ViewElement.Cloud;return n.project_io.ViewElement.Cloud.deserializeBinaryFromReader(i,t)},n.project_io.ViewElement.Cloud.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var i=t.readInt32();e.setUid(i);break;case 2:i=t.readInt32();e.setFlowUid(i);break;case 3:i=t.readDouble();e.setX(i);break;case 4:i=t.readDouble();e.setY(i);break;default:t.skipField()}}return e},n.project_io.ViewElement.Cloud.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return n.project_io.ViewElement.Cloud.serializeBinaryToWriter(this,e),e.getResultBuffer()},n.project_io.ViewElement.Cloud.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getUid())&&t.writeInt32(1,i),0!==(i=e.getFlowUid())&&t.writeInt32(2,i),0!==(i=e.getX())&&t.writeDouble(3,i),0!==(i=e.getY())&&t.writeDouble(4,i)},n.project_io.ViewElement.Cloud.prototype.getUid=function(){return o.Message.getFieldWithDefault(this,1,0)},n.project_io.ViewElement.Cloud.prototype.setUid=function(e){return o.Message.setProto3IntField(this,1,e)},n.project_io.ViewElement.Cloud.prototype.getFlowUid=function(){return o.Message.getFieldWithDefault(this,2,0)},n.project_io.ViewElement.Cloud.prototype.setFlowUid=function(e){return o.Message.setProto3IntField(this,2,e)},n.project_io.ViewElement.Cloud.prototype.getX=function(){return o.Message.getFloatingPointFieldWithDefault(this,3,0)},n.project_io.ViewElement.Cloud.prototype.setX=function(e){return o.Message.setProto3FloatField(this,3,e)},n.project_io.ViewElement.Cloud.prototype.getY=function(){return o.Message.getFloatingPointFieldWithDefault(this,4,0)},n.project_io.ViewElement.Cloud.prototype.setY=function(e){return o.Message.setProto3FloatField(this,4,e)},n.project_io.ViewElement.prototype.getAux=function(){return o.Message.getWrapperField(this,n.project_io.ViewElement.Aux,1)},n.project_io.ViewElement.prototype.setAux=function(e){return o.Message.setOneofWrapperField(this,1,n.project_io.ViewElement.oneofGroups_[0],e)},n.project_io.ViewElement.prototype.clearAux=function(){return this.setAux(void 0)},n.project_io.ViewElement.prototype.hasAux=function(){return null!=o.Message.getField(this,1)},n.project_io.ViewElement.prototype.getStock=function(){return o.Message.getWrapperField(this,n.project_io.ViewElement.Stock,2)},n.project_io.ViewElement.prototype.setStock=function(e){return o.Message.setOneofWrapperField(this,2,n.project_io.ViewElement.oneofGroups_[0],e)},n.project_io.ViewElement.prototype.clearStock=function(){return this.setStock(void 0)},n.project_io.ViewElement.prototype.hasStock=function(){return null!=o.Message.getField(this,2)},n.project_io.ViewElement.prototype.getFlow=function(){return o.Message.getWrapperField(this,n.project_io.ViewElement.Flow,3)},n.project_io.ViewElement.prototype.setFlow=function(e){return o.Message.setOneofWrapperField(this,3,n.project_io.ViewElement.oneofGroups_[0],e)},n.project_io.ViewElement.prototype.clearFlow=function(){return this.setFlow(void 0)},n.project_io.ViewElement.prototype.hasFlow=function(){return null!=o.Message.getField(this,3)},n.project_io.ViewElement.prototype.getLink=function(){return o.Message.getWrapperField(this,n.project_io.ViewElement.Link,4)},n.project_io.ViewElement.prototype.setLink=function(e){return o.Message.setOneofWrapperField(this,4,n.project_io.ViewElement.oneofGroups_[0],e)},n.project_io.ViewElement.prototype.clearLink=function(){return this.setLink(void 0)},n.project_io.ViewElement.prototype.hasLink=function(){return null!=o.Message.getField(this,4)},n.project_io.ViewElement.prototype.getModule=function(){return o.Message.getWrapperField(this,n.project_io.ViewElement.Module,5)},n.project_io.ViewElement.prototype.setModule=function(e){return o.Message.setOneofWrapperField(this,5,n.project_io.ViewElement.oneofGroups_[0],e)},n.project_io.ViewElement.prototype.clearModule=function(){return this.setModule(void 0)},n.project_io.ViewElement.prototype.hasModule=function(){return null!=o.Message.getField(this,5)},n.project_io.ViewElement.prototype.getAlias=function(){return o.Message.getWrapperField(this,n.project_io.ViewElement.Alias,6)},n.project_io.ViewElement.prototype.setAlias=function(e){return o.Message.setOneofWrapperField(this,6,n.project_io.ViewElement.oneofGroups_[0],e)},n.project_io.ViewElement.prototype.clearAlias=function(){return this.setAlias(void 0)},n.project_io.ViewElement.prototype.hasAlias=function(){return null!=o.Message.getField(this,6)},n.project_io.ViewElement.prototype.getCloud=function(){return o.Message.getWrapperField(this,n.project_io.ViewElement.Cloud,7)},n.project_io.ViewElement.prototype.setCloud=function(e){return o.Message.setOneofWrapperField(this,7,n.project_io.ViewElement.oneofGroups_[0],e)},n.project_io.ViewElement.prototype.clearCloud=function(){return this.setCloud(void 0)},n.project_io.ViewElement.prototype.hasCloud=function(){return null!=o.Message.getField(this,7)},o.Message.GENERATE_TO_OBJECT&&(n.project_io.Rect.prototype.toObject=function(e){return n.project_io.Rect.toObject(e,this)},n.project_io.Rect.toObject=function(e,t){var i={x:o.Message.getFloatingPointFieldWithDefault(t,1,0),y:o.Message.getFloatingPointFieldWithDefault(t,2,0),width:o.Message.getFloatingPointFieldWithDefault(t,3,0),height:o.Message.getFloatingPointFieldWithDefault(t,4,0)};return e&&(i.$jspbMessageInstance=t),i}),n.project_io.Rect.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new n.project_io.Rect;return n.project_io.Rect.deserializeBinaryFromReader(i,t)},n.project_io.Rect.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var i=t.readDouble();e.setX(i);break;case 2:i=t.readDouble();e.setY(i);break;case 3:i=t.readDouble();e.setWidth(i);break;case 4:i=t.readDouble();e.setHeight(i);break;default:t.skipField()}}return e},n.project_io.Rect.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return n.project_io.Rect.serializeBinaryToWriter(this,e),e.getResultBuffer()},n.project_io.Rect.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getX())&&t.writeDouble(1,i),0!==(i=e.getY())&&t.writeDouble(2,i),0!==(i=e.getWidth())&&t.writeDouble(3,i),0!==(i=e.getHeight())&&t.writeDouble(4,i)},n.project_io.Rect.prototype.getX=function(){return o.Message.getFloatingPointFieldWithDefault(this,1,0)},n.project_io.Rect.prototype.setX=function(e){return o.Message.setProto3FloatField(this,1,e)},n.project_io.Rect.prototype.getY=function(){return o.Message.getFloatingPointFieldWithDefault(this,2,0)},n.project_io.Rect.prototype.setY=function(e){return o.Message.setProto3FloatField(this,2,e)},n.project_io.Rect.prototype.getWidth=function(){return o.Message.getFloatingPointFieldWithDefault(this,3,0)},n.project_io.Rect.prototype.setWidth=function(e){return o.Message.setProto3FloatField(this,3,e)},n.project_io.Rect.prototype.getHeight=function(){return o.Message.getFloatingPointFieldWithDefault(this,4,0)},n.project_io.Rect.prototype.setHeight=function(e){return o.Message.setProto3FloatField(this,4,e)},n.project_io.View.repeatedFields_=[3],o.Message.GENERATE_TO_OBJECT&&(n.project_io.View.prototype.toObject=function(e){return n.project_io.View.toObject(e,this)},n.project_io.View.toObject=function(e,t){var i,r={kind:o.Message.getFieldWithDefault(t,1,0),elementsList:o.Message.toObjectList(t.getElementsList(),n.project_io.ViewElement.toObject,e),viewbox:(i=t.getViewbox())&&n.project_io.Rect.toObject(e,i),zoom:o.Message.getFloatingPointFieldWithDefault(t,5,0)};return e&&(r.$jspbMessageInstance=t),r}),n.project_io.View.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new n.project_io.View;return n.project_io.View.deserializeBinaryFromReader(i,t)},n.project_io.View.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var i=t.readEnum();e.setKind(i);break;case 3:i=new n.project_io.ViewElement;t.readMessage(i,n.project_io.ViewElement.deserializeBinaryFromReader),e.addElements(i);break;case 4:i=new n.project_io.Rect;t.readMessage(i,n.project_io.Rect.deserializeBinaryFromReader),e.setViewbox(i);break;case 5:i=t.readDouble();e.setZoom(i);break;default:t.skipField()}}return e},n.project_io.View.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return n.project_io.View.serializeBinaryToWriter(this,e),e.getResultBuffer()},n.project_io.View.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getKind())&&t.writeEnum(1,i),(i=e.getElementsList()).length>0&&t.writeRepeatedMessage(3,i,n.project_io.ViewElement.serializeBinaryToWriter),null!=(i=e.getViewbox())&&t.writeMessage(4,i,n.project_io.Rect.serializeBinaryToWriter),0!==(i=e.getZoom())&&t.writeDouble(5,i)},n.project_io.View.ViewType={STOCK_FLOW:0},n.project_io.View.prototype.getKind=function(){return o.Message.getFieldWithDefault(this,1,0)},n.project_io.View.prototype.setKind=function(e){return o.Message.setProto3EnumField(this,1,e)},n.project_io.View.prototype.getElementsList=function(){return o.Message.getRepeatedWrapperField(this,n.project_io.ViewElement,3)},n.project_io.View.prototype.setElementsList=function(e){return o.Message.setRepeatedWrapperField(this,3,e)},n.project_io.View.prototype.addElements=function(e,t){return o.Message.addToRepeatedWrapperField(this,3,e,n.project_io.ViewElement,t)},n.project_io.View.prototype.clearElementsList=function(){return this.setElementsList([])},n.project_io.View.prototype.getViewbox=function(){return o.Message.getWrapperField(this,n.project_io.Rect,4)},n.project_io.View.prototype.setViewbox=function(e){return o.Message.setWrapperField(this,4,e)},n.project_io.View.prototype.clearViewbox=function(){return this.setViewbox(void 0)},n.project_io.View.prototype.hasViewbox=function(){return null!=o.Message.getField(this,4)},n.project_io.View.prototype.getZoom=function(){return o.Message.getFloatingPointFieldWithDefault(this,5,0)},n.project_io.View.prototype.setZoom=function(e){return o.Message.setProto3FloatField(this,5,e)},n.project_io.Model.repeatedFields_=[3,4],o.Message.GENERATE_TO_OBJECT&&(n.project_io.Model.prototype.toObject=function(e){return n.project_io.Model.toObject(e,this)},n.project_io.Model.toObject=function(e,t){var i={name:o.Message.getFieldWithDefault(t,1,""),variablesList:o.Message.toObjectList(t.getVariablesList(),n.project_io.Variable.toObject,e),viewsList:o.Message.toObjectList(t.getViewsList(),n.project_io.View.toObject,e)};return e&&(i.$jspbMessageInstance=t),i}),n.project_io.Model.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new n.project_io.Model;return n.project_io.Model.deserializeBinaryFromReader(i,t)},n.project_io.Model.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var i=t.readString();e.setName(i);break;case 3:i=new n.project_io.Variable;t.readMessage(i,n.project_io.Variable.deserializeBinaryFromReader),e.addVariables(i);break;case 4:i=new n.project_io.View;t.readMessage(i,n.project_io.View.deserializeBinaryFromReader),e.addViews(i);break;default:t.skipField()}}return e},n.project_io.Model.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return n.project_io.Model.serializeBinaryToWriter(this,e),e.getResultBuffer()},n.project_io.Model.serializeBinaryToWriter=function(e,t){var i=void 0;(i=e.getName()).length>0&&t.writeString(1,i),(i=e.getVariablesList()).length>0&&t.writeRepeatedMessage(3,i,n.project_io.Variable.serializeBinaryToWriter),(i=e.getViewsList()).length>0&&t.writeRepeatedMessage(4,i,n.project_io.View.serializeBinaryToWriter)},n.project_io.Model.prototype.getName=function(){return o.Message.getFieldWithDefault(this,1,"")},n.project_io.Model.prototype.setName=function(e){return o.Message.setProto3StringField(this,1,e)},n.project_io.Model.prototype.getVariablesList=function(){return o.Message.getRepeatedWrapperField(this,n.project_io.Variable,3)},n.project_io.Model.prototype.setVariablesList=function(e){return o.Message.setRepeatedWrapperField(this,3,e)},n.project_io.Model.prototype.addVariables=function(e,t){return o.Message.addToRepeatedWrapperField(this,3,e,n.project_io.Variable,t)},n.project_io.Model.prototype.clearVariablesList=function(){return this.setVariablesList([])},n.project_io.Model.prototype.getViewsList=function(){return o.Message.getRepeatedWrapperField(this,n.project_io.View,4)},n.project_io.Model.prototype.setViewsList=function(e){return o.Message.setRepeatedWrapperField(this,4,e)},n.project_io.Model.prototype.addViews=function(e,t){return o.Message.addToRepeatedWrapperField(this,4,e,n.project_io.View,t)},n.project_io.Model.prototype.clearViewsList=function(){return this.setViewsList([])},o.Message.GENERATE_TO_OBJECT&&(n.project_io.Dt.prototype.toObject=function(e){return n.project_io.Dt.toObject(e,this)},n.project_io.Dt.toObject=function(e,t){var i={value:o.Message.getFloatingPointFieldWithDefault(t,1,0),isReciprocal:o.Message.getBooleanFieldWithDefault(t,2,!1)};return e&&(i.$jspbMessageInstance=t),i}),n.project_io.Dt.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new n.project_io.Dt;return n.project_io.Dt.deserializeBinaryFromReader(i,t)},n.project_io.Dt.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var i=t.readDouble();e.setValue(i);break;case 2:i=t.readBool();e.setIsReciprocal(i);break;default:t.skipField()}}return e},n.project_io.Dt.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return n.project_io.Dt.serializeBinaryToWriter(this,e),e.getResultBuffer()},n.project_io.Dt.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getValue())&&t.writeDouble(1,i),(i=e.getIsReciprocal())&&t.writeBool(2,i)},n.project_io.Dt.prototype.getValue=function(){return o.Message.getFloatingPointFieldWithDefault(this,1,0)},n.project_io.Dt.prototype.setValue=function(e){return o.Message.setProto3FloatField(this,1,e)},n.project_io.Dt.prototype.getIsReciprocal=function(){return o.Message.getBooleanFieldWithDefault(this,2,!1)},n.project_io.Dt.prototype.setIsReciprocal=function(e){return o.Message.setProto3BooleanField(this,2,e)},o.Message.GENERATE_TO_OBJECT&&(n.project_io.SimSpecs.prototype.toObject=function(e){return n.project_io.SimSpecs.toObject(e,this)},n.project_io.SimSpecs.toObject=function(e,t){var i,r={start:o.Message.getFloatingPointFieldWithDefault(t,1,0),stop:o.Message.getFloatingPointFieldWithDefault(t,2,0),dt:(i=t.getDt())&&n.project_io.Dt.toObject(e,i),saveStep:(i=t.getSaveStep())&&n.project_io.Dt.toObject(e,i),simMethod:o.Message.getFieldWithDefault(t,5,0),timeUnits:o.Message.getFieldWithDefault(t,6,"")};return e&&(r.$jspbMessageInstance=t),r}),n.project_io.SimSpecs.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new n.project_io.SimSpecs;return n.project_io.SimSpecs.deserializeBinaryFromReader(i,t)},n.project_io.SimSpecs.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var i=t.readDouble();e.setStart(i);break;case 2:i=t.readDouble();e.setStop(i);break;case 3:i=new n.project_io.Dt;t.readMessage(i,n.project_io.Dt.deserializeBinaryFromReader),e.setDt(i);break;case 4:i=new n.project_io.Dt;t.readMessage(i,n.project_io.Dt.deserializeBinaryFromReader),e.setSaveStep(i);break;case 5:i=t.readEnum();e.setSimMethod(i);break;case 6:i=t.readString();e.setTimeUnits(i);break;default:t.skipField()}}return e},n.project_io.SimSpecs.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return n.project_io.SimSpecs.serializeBinaryToWriter(this,e),e.getResultBuffer()},n.project_io.SimSpecs.serializeBinaryToWriter=function(e,t){var i=void 0;0!==(i=e.getStart())&&t.writeDouble(1,i),0!==(i=e.getStop())&&t.writeDouble(2,i),null!=(i=e.getDt())&&t.writeMessage(3,i,n.project_io.Dt.serializeBinaryToWriter),null!=(i=e.getSaveStep())&&t.writeMessage(4,i,n.project_io.Dt.serializeBinaryToWriter),0!==(i=e.getSimMethod())&&t.writeEnum(5,i),(i=e.getTimeUnits()).length>0&&t.writeString(6,i)},n.project_io.SimSpecs.prototype.getStart=function(){return o.Message.getFloatingPointFieldWithDefault(this,1,0)},n.project_io.SimSpecs.prototype.setStart=function(e){return o.Message.setProto3FloatField(this,1,e)},n.project_io.SimSpecs.prototype.getStop=function(){return o.Message.getFloatingPointFieldWithDefault(this,2,0)},n.project_io.SimSpecs.prototype.setStop=function(e){return o.Message.setProto3FloatField(this,2,e)},n.project_io.SimSpecs.prototype.getDt=function(){return o.Message.getWrapperField(this,n.project_io.Dt,3)},n.project_io.SimSpecs.prototype.setDt=function(e){return o.Message.setWrapperField(this,3,e)},n.project_io.SimSpecs.prototype.clearDt=function(){return this.setDt(void 0)},n.project_io.SimSpecs.prototype.hasDt=function(){return null!=o.Message.getField(this,3)},n.project_io.SimSpecs.prototype.getSaveStep=function(){return o.Message.getWrapperField(this,n.project_io.Dt,4)},n.project_io.SimSpecs.prototype.setSaveStep=function(e){return o.Message.setWrapperField(this,4,e)},n.project_io.SimSpecs.prototype.clearSaveStep=function(){return this.setSaveStep(void 0)},n.project_io.SimSpecs.prototype.hasSaveStep=function(){return null!=o.Message.getField(this,4)},n.project_io.SimSpecs.prototype.getSimMethod=function(){return o.Message.getFieldWithDefault(this,5,0)},n.project_io.SimSpecs.prototype.setSimMethod=function(e){return o.Message.setProto3EnumField(this,5,e)},n.project_io.SimSpecs.prototype.getTimeUnits=function(){return o.Message.getFieldWithDefault(this,6,"")},n.project_io.SimSpecs.prototype.setTimeUnits=function(e){return o.Message.setProto3StringField(this,6,e)},n.project_io.Dimension.repeatedFields_=[2],o.Message.GENERATE_TO_OBJECT&&(n.project_io.Dimension.prototype.toObject=function(e){return n.project_io.Dimension.toObject(e,this)},n.project_io.Dimension.toObject=function(e,t){var i,r={name:o.Message.getFieldWithDefault(t,1,""),elementsList:null==(i=o.Message.getRepeatedField(t,2))?void 0:i};return e&&(r.$jspbMessageInstance=t),r}),n.project_io.Dimension.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new n.project_io.Dimension;return n.project_io.Dimension.deserializeBinaryFromReader(i,t)},n.project_io.Dimension.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var i=t.readString();e.setName(i);break;case 2:i=t.readString();e.addElements(i);break;default:t.skipField()}}return e},n.project_io.Dimension.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return n.project_io.Dimension.serializeBinaryToWriter(this,e),e.getResultBuffer()},n.project_io.Dimension.serializeBinaryToWriter=function(e,t){var i=void 0;(i=e.getName()).length>0&&t.writeString(1,i),(i=e.getElementsList()).length>0&&t.writeRepeatedString(2,i)},n.project_io.Dimension.prototype.getName=function(){return o.Message.getFieldWithDefault(this,1,"")},n.project_io.Dimension.prototype.setName=function(e){return o.Message.setProto3StringField(this,1,e)},n.project_io.Dimension.prototype.getElementsList=function(){return o.Message.getRepeatedField(this,2)},n.project_io.Dimension.prototype.setElementsList=function(e){return o.Message.setField(this,2,e||[])},n.project_io.Dimension.prototype.addElements=function(e,t){return o.Message.addToRepeatedField(this,2,e,t)},n.project_io.Dimension.prototype.clearElementsList=function(){return this.setElementsList([])},n.project_io.Project.repeatedFields_=[4,3],o.Message.GENERATE_TO_OBJECT&&(n.project_io.Project.prototype.toObject=function(e){return n.project_io.Project.toObject(e,this)},n.project_io.Project.toObject=function(e,t){var i,r={name:o.Message.getFieldWithDefault(t,1,""),simSpecs:(i=t.getSimSpecs())&&n.project_io.SimSpecs.toObject(e,i),dimensionsList:o.Message.toObjectList(t.getDimensionsList(),n.project_io.Dimension.toObject,e),modelsList:o.Message.toObjectList(t.getModelsList(),n.project_io.Model.toObject,e)};return e&&(r.$jspbMessageInstance=t),r}),n.project_io.Project.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new n.project_io.Project;return n.project_io.Project.deserializeBinaryFromReader(i,t)},n.project_io.Project.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var i=t.readString();e.setName(i);break;case 2:i=new n.project_io.SimSpecs;t.readMessage(i,n.project_io.SimSpecs.deserializeBinaryFromReader),e.setSimSpecs(i);break;case 4:i=new n.project_io.Dimension;t.readMessage(i,n.project_io.Dimension.deserializeBinaryFromReader),e.addDimensions(i);break;case 3:i=new n.project_io.Model;t.readMessage(i,n.project_io.Model.deserializeBinaryFromReader),e.addModels(i);break;default:t.skipField()}}return e},n.project_io.Project.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return n.project_io.Project.serializeBinaryToWriter(this,e),e.getResultBuffer()},n.project_io.Project.serializeBinaryToWriter=function(e,t){var i=void 0;(i=e.getName()).length>0&&t.writeString(1,i),null!=(i=e.getSimSpecs())&&t.writeMessage(2,i,n.project_io.SimSpecs.serializeBinaryToWriter),(i=e.getDimensionsList()).length>0&&t.writeRepeatedMessage(4,i,n.project_io.Dimension.serializeBinaryToWriter),(i=e.getModelsList()).length>0&&t.writeRepeatedMessage(3,i,n.project_io.Model.serializeBinaryToWriter)},n.project_io.Project.prototype.getName=function(){return o.Message.getFieldWithDefault(this,1,"")},n.project_io.Project.prototype.setName=function(e){return o.Message.setProto3StringField(this,1,e)},n.project_io.Project.prototype.getSimSpecs=function(){return o.Message.getWrapperField(this,n.project_io.SimSpecs,2)},n.project_io.Project.prototype.setSimSpecs=function(e){return o.Message.setWrapperField(this,2,e)},n.project_io.Project.prototype.clearSimSpecs=function(){return this.setSimSpecs(void 0)},n.project_io.Project.prototype.hasSimSpecs=function(){return null!=o.Message.getField(this,2)},n.project_io.Project.prototype.getDimensionsList=function(){return o.Message.getRepeatedWrapperField(this,n.project_io.Dimension,4)},n.project_io.Project.prototype.setDimensionsList=function(e){return o.Message.setRepeatedWrapperField(this,4,e)},n.project_io.Project.prototype.addDimensions=function(e,t){return o.Message.addToRepeatedWrapperField(this,4,e,n.project_io.Dimension,t)},n.project_io.Project.prototype.clearDimensionsList=function(){return this.setDimensionsList([])},n.project_io.Project.prototype.getModelsList=function(){return o.Message.getRepeatedWrapperField(this,n.project_io.Model,3)},n.project_io.Project.prototype.setModelsList=function(e){return o.Message.setRepeatedWrapperField(this,3,e)},n.project_io.Project.prototype.addModels=function(e,t){return o.Message.addToRepeatedWrapperField(this,3,e,n.project_io.Model,t)},n.project_io.Project.prototype.clearModelsList=function(){return this.setModelsList([])},n.project_io.SimMethod={EULER:0,RUNGE_KUTTA_4:1},r.object.extend(t,n.project_io)},94:function(e,t,i){"use strict";i.r(t);var o=i(3),r=i(0),n=i.n(r),a=i(99),s=i(107),l=i(108),c=i(101),p=i(22),u=i(105),d=i(159),h=i(117),g=i(182),m=i(196);function f(e){if(void 0===e)throw new Error("expected non-undefined object");return e}var b=i(163);const y=e=>{let t=!1;if((e=e.trim()).length>1){const i=e.slice(0,1),o=e.slice(e.length-1);t='"'===i&&'"'===o}return e=(e=(e=(e=(e=e.toLowerCase()).replace(/\\n/g,"_")).replace(/\\\\/g,"\\")).replace(/\\"/g,"\\")).replace(/[_\r\n\t \xa0]+/g,"_"),t?e.slice(1,-1):e};let j;!function(e){e[e.NoError=0]="NoError",e[e.DoesNotExist=1]="DoesNotExist",e[e.XmlDeserialization=2]="XmlDeserialization",e[e.VensimConversion=3]="VensimConversion",e[e.ProtobufDecode=4]="ProtobufDecode",e[e.InvalidToken=5]="InvalidToken",e[e.UnrecognizedEOF=6]="UnrecognizedEOF",e[e.UnrecognizedToken=7]="UnrecognizedToken",e[e.ExtraToken=8]="ExtraToken",e[e.UnclosedComment=9]="UnclosedComment",e[e.UnclosedQuotedIdent=10]="UnclosedQuotedIdent",e[e.ExpectedNumber=11]="ExpectedNumber",e[e.UnknownBuiltin=12]="UnknownBuiltin",e[e.BadBuiltinArgs=13]="BadBuiltinArgs",e[e.EmptyEquation=14]="EmptyEquation",e[e.BadModuleInputDst=15]="BadModuleInputDst",e[e.BadModuleInputSrc=16]="BadModuleInputSrc",e[e.NotSimulatable=17]="NotSimulatable",e[e.BadTable=18]="BadTable",e[e.BadSimSpecs=19]="BadSimSpecs",e[e.NoAbsoluteReferences=20]="NoAbsoluteReferences",e[e.CircularDependency=21]="CircularDependency",e[e.ArraysNotImplemented=22]="ArraysNotImplemented",e[e.MultiDimensionalArraysNotImplemented=23]="MultiDimensionalArraysNotImplemented",e[e.BadDimensionName=24]="BadDimensionName",e[e.BadModelName=25]="BadModelName",e[e.MismatchedDimensions=26]="MismatchedDimensions",e[e.ArrayReferenceNeedsExplicitSubscripts=27]="ArrayReferenceNeedsExplicitSubscripts",e[e.DuplicateVariable=28]="DuplicateVariable",e[e.UnknownDependency=29]="UnknownDependency",e[e.VariablesHaveErrors=30]="VariablesHaveErrors",e[e.Generic=31]="Generic"}(j||(j={}));const w={code:j.NoError,start:0,end:0};Object(h.c)(w);const E={code:j.NoError,details:void 0};Object(h.c)(E);const _={code:j.NoError,details:void 0};Object(h.c)(_);function V(e){switch(e){case b.GraphicalFunction.Kind.CONTINUOUS:return"continuous";case b.GraphicalFunction.Kind.EXTRAPOLATE:return"extrapolate";case b.GraphicalFunction.Kind.DISCRETE:return"discrete";default:return"continuous"}}const M={min:0,max:0};class F extends(Object(h.c)(M)){constructor(e){super(e)}static fromPb(e){return new F({min:e.getMin(),max:e.getMax()})}toPb(){const e=new b.GraphicalFunction.Scale;return e.setMin(this.min),e.setMax(this.max),e}static default(){return new F(M)}}const A={kind:"continuous",xPoints:void 0,yPoints:Object(h.a)(),xScale:F.default(),yScale:F.default()};class S extends(Object(h.c)(A)){constructor(e){super(e)}static fromPb(e){const t=e.getXPointsList();return new S({kind:V(e.getKind()),xPoints:0!==t.length?Object(h.a)(t):void 0,yPoints:Object(h.a)(e.getYPointsList()),xScale:F.fromPb(f(e.getXScale())),yScale:F.fromPb(f(e.getYScale()))})}toPb(){const e=new b.GraphicalFunction;if(this.kind)switch(this.kind){case"continuous":e.setKind(b.GraphicalFunction.Kind.CONTINUOUS);break;case"discrete":e.setKind(b.GraphicalFunction.Kind.DISCRETE);break;case"extrapolate":e.setKind(b.GraphicalFunction.Kind.EXTRAPOLATE)}return this.xPoints&&this.xPoints.size>0&&e.setXPointsList(this.xPoints.toArray()),this.yPoints&&e.setYPointsList(this.yPoints.toArray()),this.xScale&&e.setXScale(this.xScale.toPb()),this.yScale&&e.setYScale(this.yScale.toPb()),e}}const x={equation:""};class v extends(Object(h.c)(x)){constructor(e){super(e)}static fromPb(e){return new v({equation:e.getEquation()})}toPb(){const e=new b.Variable.ScalarEquation;return e.setEquation(this.equation),e}static default(){return new v({equation:""})}}const k={dimensionNames:Object(h.a)(),equation:""};class B extends(Object(h.c)(k)){constructor(e){super(e)}static fromPb(e){return new B({dimensionNames:Object(h.a)(e.getDimensionNamesList()),equation:e.getEquation()})}toPb(){const e=new b.Variable.ApplyToAllEquation;return e.setDimensionNamesList(this.dimensionNames.toArray()),e.setEquation(this.equation),e}}const D={dimensionNames:Object(h.a)(),elements:Object(h.b)()};class P extends(Object(h.c)(D)){constructor(e){super(e)}static fromPb(e){return new P({dimensionNames:Object(h.a)(e.getDimensionNamesList()),elements:Object(h.b)(e.getElementsList().map((e=>[e.getSubscript(),e.getEquation()])))})}toPb(){const e=new b.Variable.ArrayedEquation;return e.setDimensionNamesList(this.dimensionNames.toArray()),e.setElementsList(this.elements.map(((e,t)=>{const i=new b.Variable.ArrayedEquation.Element;return i.setSubscript(e),i.setEquation(t),i})).valueSeq().toArray()),e}}function W(e){return null!=e&&e.hasApplyToAll()?B.fromPb(f(null==e?void 0:e.getApplyToAll())):null!=e&&e.hasArrayed()?P.fromPb(f(null==e?void 0:e.getArrayed())):v.fromPb(f(null==e?void 0:e.getScalar()))}const O={ident:"",equation:v.default(),documentation:"",units:"",inflows:Object(h.a)(),outflows:Object(h.a)(),nonNegative:!1,data:void 0,errors:void 0};class R extends(Object(h.c)(O)){constructor(e){super(e)}static fromPb(e){return new R({ident:e.getIdent(),equation:W(e.getEquation()),documentation:e.getDocumentation(),units:e.getUnits(),inflows:Object(h.a)(e.getInflowsList()),outflows:Object(h.a)(e.getOutflowsList()),nonNegative:e.getNonNegative(),data:void 0,errors:void 0})}get gf(){}get isArrayed(){return this.equation instanceof B||this.equation instanceof P}get hasError(){return void 0!==this.errors}}const L={ident:"",equation:v.default(),documentation:"",units:"",gf:void 0,nonNegative:!1,data:void 0,errors:void 0};class G extends(Object(h.c)(L)){constructor(e){super(e)}static fromPb(e){const t=e.getGf();return new G({ident:e.getIdent(),equation:W(e.getEquation()),documentation:e.getDocumentation(),units:e.getUnits(),gf:t?S.fromPb(t):void 0,nonNegative:e.getNonNegative(),data:void 0,errors:void 0})}get isArrayed(){return this.equation instanceof B||this.equation instanceof P}get hasError(){return void 0!==this.errors}}const C={ident:"",equation:v.default(),documentation:"",units:"",gf:void 0,data:void 0,errors:void 0};class N extends(Object(h.c)(C)){constructor(e){super(e)}static fromPb(e){const t=e.getGf();return new N({ident:e.getIdent(),equation:W(e.getEquation()),documentation:e.getDocumentation(),units:e.getUnits(),gf:t?S.fromPb(t):void 0,data:void 0,errors:void 0})}get isArrayed(){return this.equation instanceof B||this.equation instanceof P}get hasError(){return void 0!==this.errors}}const T={src:"",dst:""};class z extends(Object(h.c)(T)){constructor(e){super({src:e.getSrc(),dst:e.getDst()})}}const U={ident:"",modelName:"",documentation:"",units:"",references:Object(h.a)(),data:void 0,errors:void 0};class I extends(Object(h.c)(U)){constructor(e){super(e)}static fromPb(e){return new I({ident:e.getIdent(),modelName:e.getModelName(),documentation:e.getDocumentation(),units:e.getUnits(),references:Object(h.a)(e.getReferencesList().map((e=>new z(e)))),data:void 0,errors:void 0})}get equation(){}get gf(){}get isArrayed(){return!1}get hasError(){return void 0!==this.errors}}function Z(e){switch(e){case b.ViewElement.LabelSide.TOP:return"top";case b.ViewElement.LabelSide.LEFT:return"left";case b.ViewElement.LabelSide.CENTER:return"center";case b.ViewElement.LabelSide.BOTTOM:return"bottom";case b.ViewElement.LabelSide.RIGHT:return"right";default:return"top"}}function q(e){switch(e){case"top":return b.ViewElement.LabelSide.TOP;case"left":return b.ViewElement.LabelSide.LEFT;case"center":return b.ViewElement.LabelSide.CENTER;case"bottom":return b.ViewElement.LabelSide.BOTTOM;case"right":return b.ViewElement.LabelSide.RIGHT}}const X={uid:-1,name:"",ident:"",var:void 0,x:-1,y:-1,labelSide:"right",isZeroRadius:!1};class Y extends(Object(h.c)(X)){constructor(e){super(e)}static fromPb(e,t,i){return new Y({uid:e.getUid(),name:e.getName(),ident:t,var:i instanceof N?i:void 0,x:e.getX(),y:e.getY(),labelSide:Z(e.getLabelSide()),isZeroRadius:!1})}toPb(){const e=new b.ViewElement.Aux;return e.setUid(this.uid),e.setName(this.name),e.setX(this.x),e.setY(this.y),e.setLabelSide(q(this.labelSide)),e}get cx(){return this.x}get cy(){return this.y}isNamed(){return!0}}const K={uid:-1,name:"",ident:"",var:void 0,x:-1,y:-1,labelSide:"center",isZeroRadius:!1,inflows:Object(h.a)(),outflows:Object(h.a)()};class Q extends(Object(h.c)(K)){constructor(e){super(e)}static fromPb(e,t,i){return new Q({uid:e.getUid(),name:e.getName(),ident:t,var:i instanceof R?i:void 0,x:e.getX(),y:e.getY(),labelSide:Z(e.getLabelSide()),isZeroRadius:!1,inflows:Object(h.a)(),outflows:Object(h.a)()})}toPb(){const e=new b.ViewElement.Stock;return e.setUid(this.uid),e.setName(this.name),e.setX(this.x),e.setY(this.y),e.setLabelSide(q(this.labelSide)),e}get cx(){return this.x}get cy(){return this.y}isNamed(){return!0}}const $={x:-1,y:-1,attachedToUid:void 0};class J extends(Object(h.c)($)){constructor(e){super(e)}static fromPb(e){const t=e.getAttachedToUid();return new J({x:e.getX(),y:e.getY(),attachedToUid:t||void 0})}toPb(){const e=new b.ViewElement.FlowPoint;return e.setX(this.x),e.setY(this.y),void 0!==this.attachedToUid&&e.setAttachedToUid(this.attachedToUid),e}}const H={uid:-1,name:"",ident:"",var:void 0,x:-1,y:-1,labelSide:"center",points:Object(h.a)(),isZeroRadius:!1};class ee extends(Object(h.c)(H)){constructor(e){super(e)}static fromPb(e,t,i){return new ee({uid:e.getUid(),name:e.getName(),ident:t,var:i instanceof G?i:void 0,x:e.getX(),y:e.getY(),labelSide:Z(e.getLabelSide()),points:Object(h.a)(e.getPointsList().map((e=>J.fromPb(e)))),isZeroRadius:!1})}toPb(){const e=new b.ViewElement.Flow;return e.setUid(this.uid),e.setName(this.name),e.setX(this.x),e.setY(this.y),e.setPointsList(this.points.map((e=>e.toPb())).toArray()),e.setLabelSide(q(this.labelSide)),e}get cx(){return this.x}get cy(){return this.y}isNamed(){return!0}}const te={uid:-1,fromUid:-1,toUid:-1,arc:0,isStraight:!1,multiPoint:void 0};class ie extends(Object(h.c)(te)){constructor(e){super(e)}static fromPb(e){let t,i,o=!0;switch(e.getShapeCase()){case b.ViewElement.Link.ShapeCase.ARC:t=e.getArc(),o=!1,i=void 0;break;case b.ViewElement.Link.ShapeCase.IS_STRAIGHT:t=void 0,o=e.getIsStraight(),i=void 0;break;case b.ViewElement.Link.ShapeCase.MULTI_POINT:t=void 0,o=!1,i=Object(h.a)(f(e.getMultiPoint()).getPointsList().map((e=>J.fromPb(e))))}return new ie({uid:e.getUid(),fromUid:e.getFromUid(),toUid:e.getToUid(),arc:t,isStraight:o,multiPoint:i})}toPb(){const e=new b.ViewElement.Link;if(e.setUid(this.uid),e.setFromUid(this.fromUid),e.setToUid(this.toUid),void 0!==this.arc)e.setArc(this.arc);else if(this.multiPoint){const t=new b.ViewElement.Link.LinkPoints;t.setPointsList(this.multiPoint.map((e=>e.toPb())).toArray()),e.setMultiPoint(t)}else e.setIsStraight(this.isStraight);return e}get cx(){return NaN}get cy(){return NaN}isNamed(){return!1}get ident(){}get isZeroRadius(){return!1}}const oe={uid:-1,name:"",ident:"",var:void 0,x:-1,y:-1,labelSide:"center",isZeroRadius:!1};class re extends(Object(h.c)(oe)){constructor(e){super(e)}static fromPb(e,t,i){return new re({uid:e.getUid(),name:e.getName(),ident:t,var:i instanceof I?i:void 0,x:e.getX(),y:e.getY(),labelSide:Z(e.getLabelSide()),isZeroRadius:!1})}toPb(){const e=new b.ViewElement.Module;return e.setUid(this.uid),e.setName(this.name),e.setX(this.x),e.setY(this.y),e.setLabelSide(q(this.labelSide)),e}get cx(){return this.x}get cy(){return this.y}isNamed(){return!0}}const ne={uid:-1,aliasOfUid:-1,x:-1,y:-1,labelSide:"center",isZeroRadius:!1};class ae extends(Object(h.c)(ne)){constructor(e){super(e)}static fromPb(e){return new ae({uid:e.getUid(),aliasOfUid:e.getAliasOfUid(),x:e.getX(),y:e.getY(),labelSide:Z(e.getLabelSide()),isZeroRadius:!1})}toPb(){const e=new b.ViewElement.Alias;return e.setUid(this.uid),e.setAliasOfUid(this.aliasOfUid),e.setX(this.x),e.setY(this.y),e.setLabelSide(q(this.labelSide)),e}get cx(){return this.x}get cy(){return this.y}isNamed(){return!1}get ident(){}}const se={uid:-1,flowUid:-1,x:-1,y:-1,isZeroRadius:!1};class le extends(Object(h.c)(se)){constructor(e){super(e)}static fromPb(e){return new le({uid:e.getUid(),flowUid:e.getFlowUid(),x:e.getX(),y:e.getY(),isZeroRadius:!1})}toPb(){const e=new b.ViewElement.Cloud;return e.setUid(this.uid),e.setFlowUid(this.flowUid),e.setX(this.x),e.setY(this.y),e}get cx(){return this.x}get cy(){return this.y}isNamed(){return!1}get ident(){}}const ce={x:-1,y:-1,width:-1,height:-1};class pe extends(Object(h.c)(ce)){constructor(e){super(e)}static fromPb(e){return new pe({x:e.getX(),y:e.getY(),width:e.getWidth(),height:e.getHeight()})}toPb(){const e=new b.Rect;return e.setX(this.x),e.setY(this.y),e.setWidth(this.width),e.setHeight(this.height),e}static default(){return new pe({x:0,y:0,width:0,height:0})}}const ue={nextUid:-1,elements:Object(h.a)(),viewBox:pe.default(),zoom:-1};class de extends(Object(h.c)(ue)){constructor(e){super(e)}static fromPb(e,t){let i=-1,o=Object(h.b)();const r=Object(h.a)(e.getElementsList().map((e=>{let r;switch(e.getElementCase()){case b.ViewElement.ElementCase.AUX:{const i=f(e.getAux()),n=y(i.getName());r=Y.fromPb(i,n,t.get(n)),o=o.set(n,r.uid);break}case b.ViewElement.ElementCase.STOCK:{const i=f(e.getStock()),n=y(i.getName());r=Q.fromPb(i,n,t.get(n)),o=o.set(n,r.uid);break}case b.ViewElement.ElementCase.FLOW:{const i=f(e.getFlow()),n=y(i.getName());r=ee.fromPb(i,n,t.get(n)),o=o.set(n,r.uid);break}case b.ViewElement.ElementCase.LINK:r=ie.fromPb(f(e.getLink()));break;case b.ViewElement.ElementCase.MODULE:{const i=f(e.getModule()),n=y(i.getName());r=re.fromPb(i,n,t.get(n)),o=o.set(n,r.uid);break}case b.ViewElement.ElementCase.ALIAS:r=ae.fromPb(f(e.getAlias()));break;case b.ViewElement.ElementCase.CLOUD:r=le.fromPb(f(e.getCloud()));break;default:throw new Error("invariant broken: protobuf variable with empty oneof")}return i=Math.max(r.uid,i),r}))).map((e=>{if(e instanceof Q&&e.var){const t=e.var,i=Object(h.a)(t.inflows.filter((e=>o.has(e))).map((e=>f(o.get(e))))),r=Object(h.a)(t.outflows.filter((e=>o.has(e))).map((e=>f(o.get(e)))));return e.merge({inflows:i,outflows:r})}return e}));let n=i+1;0===n&&(n=1);const a=e.getViewbox(),s=a?pe.fromPb(a):pe.default();return new de({elements:r,nextUid:n,viewBox:s,zoom:e.getZoom()||1})}toPb(){const e=new b.View;e.setKind(b.View.ViewType.STOCK_FLOW);const t=this.elements.map((e=>{const t=new b.ViewElement;if(e instanceof Y)t.setAux(e.toPb());else if(e instanceof Q)t.setStock(e.toPb());else if(e instanceof ee)t.setFlow(e.toPb());else if(e instanceof ie)t.setLink(e.toPb());else if(e instanceof re)t.setModule(e.toPb());else if(e instanceof ae)t.setAlias(e.toPb());else{if(!(e instanceof le))throw new Error("unknown view element variant");t.setCloud(e.toPb())}return t})).toArray();return e.setElementsList(t),e.setViewbox(this.viewBox.toPb()),e.setZoom(this.zoom),e}}const he={name:"",variables:Object(h.b)(),views:Object(h.a)()};class ge extends(Object(h.c)(he)){constructor(e){super(e)}static fromPb(e){const t=Object(h.b)(e.getVariablesList().map((e=>{switch(e.getVCase()){case b.Variable.VCase.STOCK:return R.fromPb(f(e.getStock()));case b.Variable.VCase.FLOW:return G.fromPb(f(e.getFlow()));case b.Variable.VCase.AUX:return N.fromPb(f(e.getAux()));case b.Variable.VCase.MODULE:return I.fromPb(f(e.getModule()));default:throw new Error("invariant broken: protobuf variable with empty oneof")}})).map((e=>[e.ident,e])));return new ge({name:e.getName(),variables:t,views:Object(h.a)(e.getViewsList().map((e=>{switch(e.getKind()){case b.View.ViewType.STOCK_FLOW:return de.fromPb(e,t);default:throw new Error("invariant broken: protobuf view with unknown kind")}})))})}}const me={value:1,isReciprocal:!1};class fe extends(Object(h.c)(me)){constructor(e){super(e)}static fromPb(e){return new fe({value:e.getValue(),isReciprocal:e.getIsReciprocal()})}toPb(){const e=new b.Dt;return e.setValue(this.value),e.setIsReciprocal(this.isReciprocal),e}static default(){return new fe(me)}}function be(e){switch(e){case 0:return"euler";case 1:return"rk4";default:return"euler"}}const ye={start:0,stop:10,dt:fe.default(),saveStep:void 0,simMethod:"euler",timeUnits:void 0};class je extends(Object(h.c)(ye)){constructor(e){super(e)}static fromPb(e){const t=e.getSaveStep();return new je({start:e.getStart(),stop:e.getStop(),dt:fe.fromPb(f(e.getDt())),saveStep:t?fe.fromPb(t):void 0,simMethod:be(e.getSimMethod()),timeUnits:e.getTimeUnits()})}static default(){return new je(ye)}}const we={name:"",subscripts:Object(h.a)()};class Ee extends(Object(h.c)(we)){constructor(e){super(e)}static fromPb(e){return new Ee({name:e.getName(),subscripts:Object(h.a)(e.getElementsList())})}toPb(){const e=new b.Dimension;return e.setName(this.name),e.setElementsList(this.subscripts.toArray()),e}}const _e={name:"",simSpecs:je.default(),models:Object(h.b)(),dimensions:Object(h.b)(),hasNoEquations:!1};class Ve extends(Object(h.c)(_e)){constructor(e){super(e)}static fromPb(e){return new Ve({name:e.getName(),simSpecs:je.fromPb(f(e.getSimSpecs())),models:Object(h.b)(e.getModelsList().map((e=>[e.getName(),ge.fromPb(e)]))),dimensions:Object(h.b)(e.getDimensionsList().map((e=>[e.getName(),Ee.fromPb(e)]))),hasNoEquations:!1})}static deserializeBinary(e){const t=b.Project.deserializeBinary(e);return Ve.fromPb(t)}attachData(e,t){let i=f(this.models.get(t));const o=i.variables.map((t=>{if(e.has(t.ident))return t.set("data",[f(e.get(t.ident))]);if(!t.isArrayed)return t;const i=f(t.equation);if(!(i instanceof B||i instanceof P))return t;const o=i.dimensionNames;if(1!==o.size)return t;const r=t.ident,n=f(this.dimensions.get(f(o.get(0)))).subscripts.map((t=>e.get(`${r}[${t}]`))).filter((e=>void 0!==e)).map((e=>f(e))).toArray();return t.set("data",n)}));return i=i.set("variables",o),this.set("models",this.models.set(t,i))}}var Me=i(198),Fe=i(197),Ae=i(118);function Se(e){return e.split("\n").map((e=>({children:[{text:e}]})))}function xe(e,t){return{top:Math.min(e.top,t.top),left:Math.min(e.left,t.left),right:Math.max(e.right,t.right),bottom:Math.max(e.bottom,t.bottom)}}function ve(e){if(0===e.size)return;const t={top:1/0,left:1/0,right:-1/0,bottom:-1/0};return e.reduce(((e,t)=>void 0===t?e:xe(e,t)),t)}const ke=e=>e.replace(/\\n/g,"\n").replace(/_/g," "),Be=e=>!isFinite(e)||e>2e14,De=(e,t=1e-7)=>Math.abs(e)<t,Pe=e=>Math.pow(e,2);function We(e,t,i){const o=new DOMPoint(e,t).matrixTransform(new DOMMatrix([i,0,0,i,0,0]).inverse());return{x:o.x,y:o.y}}const Oe=13.5;const Re=Object(Me.a)({alignLeft:{"& text":{textAnchor:"end"}},alignRight:{"& text":{textAnchor:"start"}}});function Le(e){const t=e.text.split("\n"),i=t.length,o=6*t.reduce(((e,t)=>t.length>e?t.length:e),0)+10,{cx:r,cy:n,side:a}=e,s=e.rw||9,l=e.rh||9;let c=r,p=n;const u=Math.round(c);let d=p,h=0;switch(a){case"top":p=n-l-4-14*i,h=u-o/2,d=p;break;case"bottom":p=n+l+4,h=u-o/2,d=p;break;case"left":c=r-s-4+1,h=c-o,d=p-(12+14*(t.length-1))/2-3;break;case"right":c=r+s+4-1,h=c,d=p-(12+14*(t.length-1))/2-3;break;default:console.log("unknown label case "+a)}return d=Math.round(d),{top:d,left:h,right:h+o,bottom:d+14*i}}const Ge=Object(Fe.a)(Re)(class extends r.PureComponent{constructor(e){super(e),this.pointerId=void 0,this.inMove=!1,this.handlePointerDown=e=>{e.isPrimary&&(e.preventDefault(),e.stopPropagation(),this.pointerId=e.pointerId)},this.handlePointerMove=e=>{var t,i;this.pointerId===e.pointerId&&(this.inMove=!0,e.target.setPointerCapture(e.pointerId),null===(t=(i=this.props).onLabelDrag)||void 0===t||t.call(i,this.props.uid,e))},this.handlePointerUp=e=>{this.pointerId===e.pointerId&&(this.pointerId=void 0,this.inMove=!1)},this.handleDoubleClick=e=>{var t,i;this.inMove||(null===(t=(i=this.props).onSelection)||void 0===t||t.call(i,e))},this.state={}}render(){const{textX:e,textY:t,x:i,lines:o,reverseBaseline:n,align:a}=function(e){const t=e.text.split("\n"),{cx:i,cy:o,side:r}=e,n=e.rw||9,a=e.rh||9;let s=i,l=o,c="middle",p=!1;const u=Math.round(s);let d=l;switch(r){case"top":p=!0,l=o-a-4-2,d=l;break;case"bottom":l=o+a+4,d=l;break;case"left":s=i-n-4,c="end",d=l-(12+14*(t.length-1))/2-3;break;case"right":s=i+n+4,c="start",d=l-(12+14*(t.length-1))/2-3;break;default:console.log("unknown label case "+r)}return{textX:u,textY:d,x:s,y:l,lines:t,reverseBaseline:p,align:c}}(this.props),s=o.length;return r.createElement("g",null,r.createElement("text",{x:e,y:t,style:a?{textAnchor:a}:void 0,onPointerDown:this.handlePointerDown,onPointerMove:this.handlePointerMove,onPointerUp:this.handlePointerUp,onDoubleClick:this.handleDoubleClick,textRendering:"optimizeLegibility"},o.map(((e,t)=>{let o=0===t?"1em":"14px";return n&&0===t&&(o=-14*(s-1)+"px"),r.createElement("tspan",{key:e,x:Math.round(i),dy:o},e)}))))}});var Ce=i(162);const Ne=Object(Me.a)({sparkline:{strokeWidth:.5,strokeLinecap:"round",stroke:"#2299dd",fill:"none"},axis:{strokeWidth:.75,strokeLinecap:"round",stroke:"#999",fill:"none"}});function Te(e){const t=e.length;if(t<1)return-1/0;let i=e[0];for(let o=1;o<t;o++){const t=e[o];t<i&&(i=t)}return i}function ze(e){const t=e.length;if(t<1)return-1/0;let i=e[0];for(let o=1;o<t;o++){const t=e[o];t>i&&(i=t)}return i}const Ue=Object(Fe.a)(Ne)(class extends r.PureComponent{constructor(...e){super(...e),this.pAxis="",this.sparklines=[],this.cachedSeries=void 0}recache(){const{classes:e}=this.props,t=f(this.props.series[0]).time,i=this.props.width,o=this.props.height,n=t[0];var a;const s=(a=t)[a.length-1]-n;let l=0,c=-1/0;for(const r of this.props.series){const e=r.values;l=Math.min(l,Te(e)),c=Math.max(c,ze(e))}const p=c-l||1,u=Ce.brewer.Dark2,d=[];let h=0;for(const g of this.props.series){const a=g.values;let c="";for(let e=0;e<a.length;e++){if(isNaN(a[e]))continue;c+=`${0===e?"M":"L"}${0+i*(t[e]-n)/s},${0+o-o*(a[e]-l)/p}`}const m=1===this.props.series.length?void 0:{stroke:u[h%u.length]};d.push(r.createElement("path",{key:g.name,d:c,className:e.sparkline,style:m})),h++}this.pAxis=`M0,${0+o-o*(0-l)/p}L${0+i},${0+o-o*(0-l)/p}`,this.sparklines=d,this.cachedSeries=this.props.series}render(){this.props.series!==this.cachedSeries&&this.recache();const{classes:e}=this.props;return r.createElement("g",null,r.createElement("path",{key:"$axis",d:this.pAxis,className:e.axis}),this.sparklines)}});function Ie(e,t){const i=e.cx,o=e.cy;return Math.sqrt(Pe(t.x-i)+Pe(t.y-o))<=9}const Ze=Object(Fe.a)((({palette:e})=>Object(Me.a)({aux:{strokeWidth:1,stroke:e.common.black,fill:e.common.white},targetGood:{"& circle":{stroke:"rgb(76, 175, 80)",strokeWidth:2}},targetBad:{"& circle":{stroke:"rgb(244, 67, 54)",strokeWidth:2}},selected:{"& text":{fill:"#4444dd"},"& circle":{stroke:"#4444dd"}},indicator:{fill:"rgb(255, 152, 0)",strokeWidth:0}})))(class extends r.PureComponent{constructor(...e){super(...e),this.handlePointerDown=e=>{e.preventDefault(),e.stopPropagation(),this.props.onSelection(this.props.element,e)},this.handleLabelSelection=e=>{e.preventDefault(),e.stopPropagation(),this.props.onSelection(this.props.element,e,!0)}}radius(){return 9}indicators(){if(!this.props.hasWarning)return;const{classes:e,element:t}=this.props,i=this.radius(),o=-Math.PI/4,n=t.cx+i*Math.cos(o),a=t.cy+i*Math.sin(o);return r.createElement("circle",{className:e.indicator,cx:n,cy:a,r:3})}sparkline(e){var t;if(!e||0===e.length)return;const{element:i}=this.props,o=(null===(t=i.var)||void 0===t?void 0:t.isArrayed)||!1?3:0,n=i.cx-o,a=i.cy-o,s=this.radius();return r.createElement("g",{transform:`translate(${n+1-s/2} ${a+1-s/2})`},r.createElement(Ue,{series:e,width:s-2,height:s-2}))}render(){var e;const{classes:t,element:i,isEditingName:o,isSelected:n,isValidTarget:a,series:s}=this.props,l=i.cx,c=i.cy,p=this.radius(),u=(null===(e=i.var)||void 0===e?void 0:e.isArrayed)||!1,d=u?3:0,h=i.labelSide,g=o?void 0:r.createElement(Ge,{uid:i.uid,cx:l,cy:c,side:h,rw:p+d,rh:p+d,text:ke(f(i.name)),onSelection:this.handleLabelSelection,onLabelDrag:this.props.onLabelDrag}),m=this.sparkline(s),b=this.indicators();let y=n?t.selected:void 0;void 0!==a&&(y=a?t.targetGood:t.targetBad);let j=[r.createElement("circle",{key:"1",className:t.aux,cx:l,cy:c,r:p})];return u&&(j=[r.createElement("circle",{key:"0",className:t.aux,cx:l+d,cy:c+d,r:p}),r.createElement("circle",{key:"1",className:t.aux,cx:l,cy:c,r:p}),r.createElement("circle",{key:"2",className:t.aux,cx:l-d,cy:c-d,r:p})]),r.createElement("g",{className:y,onPointerDown:this.handlePointerDown},j,m,b,g)}});const qe=Object(Fe.a)((({palette:e})=>Object(Me.a)({cloud:{strokeWidth:2,strokeLinejoin:"round",strokeMiterlimit:4,fill:e.common.white,stroke:"dark"===e.mode?"#2D498A":"#6388dc"}})))(class extends r.PureComponent{constructor(e){super(e),this.state=void 0,this.handlePointerDown=e=>{e.preventDefault(),e.stopPropagation(),this.props.onSelection(this.props.element,e)},this.state={}}render(){const{element:e,classes:t}=this.props,i=f(e.x),o=f(e.y),n=Oe,a=27/55,s=`matrix(${a}, 0, 0, ${a}, ${i-n}, ${o-n})`;return r.createElement("path",{d:"M 25.731189,3.8741489 C 21.525742,3.8741489 18.07553,7.4486396 17.497605,12.06118 C 16.385384,10.910965 14.996889,10.217536 13.45908,10.217535 C 9.8781481,10.217535 6.9473481,13.959873 6.9473482,18.560807 C 6.9473482,19.228828 7.0507906,19.875499 7.166493,20.498196 C 3.850265,21.890233 1.5000346,25.3185 1.5000346,29.310191 C 1.5000346,34.243794 5.1009986,38.27659 9.6710049,38.715902 C 9.6186538,39.029349 9.6083922,39.33212 9.6083922,39.653348 C 9.6083922,45.134228 17.378069,49.59028 26.983444,49.590279 C 36.58882,49.590279 44.389805,45.134229 44.389803,39.653348 C 44.389803,39.35324 44.341646,39.071755 44.295883,38.778399 C 44.369863,38.780301 44.440617,38.778399 44.515029,38.778399 C 49.470875,38.778399 53.499966,34.536825 53.499965,29.310191 C 53.499965,24.377592 49.928977,20.313927 45.360301,19.873232 C 45.432415,19.39158 45.485527,18.91118 45.485527,18.404567 C 45.485527,13.821862 42.394553,10.092543 38.598118,10.092543 C 36.825927,10.092543 35.215888,10.918252 33.996078,12.248669 C 33.491655,7.5434856 29.994502,3.8741489 25.731189,3.8741489 z",className:t.cloud,transform:s,onPointerDown:this.handlePointerDown})}});const Xe=Object(Fe.a)((({palette:e})=>Object(Me.a)({flowArrowhead:{strokeWidth:1,strokeLinejoin:"round",stroke:e.common.black,fill:e.common.white},flowArrowheadSelected:{strokeWidth:1,strokeLinejoin:"round",stroke:"#4444dd",fill:"white"},connArrowhead:{strokeWidth:1,strokeLinejoin:"round",stroke:"dark"===e.mode?"#777777":"gray",fill:"dark"===e.mode?"#777777":"gray"},connArrowheadSelected:{strokeWidth:1,strokeLinejoin:"round",stroke:"#4444dd",fill:"#4444dd"},arrowheadBg:{fill:"white",opacity:0}})))(class extends r.PureComponent{constructor(...e){super(...e),this.handlePointerDown=e=>{this.props.onSelection&&this.props.onSelection(e)}}render(){const{classes:e,type:t,isSelected:i}=this.props,{x:o,y:n}=this.props.point;let a=this.props.size;const s=`M${o},${n}L${o-a},${n+a/2}A${3*a},${3*a} 0 0,1 ${o-a},${n-a/2}z`;a*=1.5;const l=`M${o+.5*a},${n}L${o-.75*a},${n+a/2}A${3*a},${3*a} 0 0,1 ${o-.75*a},${n-a/2}z`;let c;c="connector"===t?i?e.connArrowheadSelected:e.connArrowhead:i?e.flowArrowheadSelected:e.flowArrowhead;const p=`rotate(${this.props.angle},${o},${n})`;return r.createElement("g",null,r.createElement("path",{d:l,className:e.arrowheadBg,transform:p,onPointerDown:this.handlePointerDown}),r.createElement("path",{d:s,className:c,transform:p,onPointerDown:this.handlePointerDown}))}});const Ye=Object(Me.a)({connector:{strokeWidth:.5,stroke:"gray",fill:"none"},connectorSelected:{strokeWidth:1,stroke:"#4444dd",fill:"none"},connectorBg:{strokeWidth:7,stroke:"white",opacity:0,fill:"none"}}),Ke=Math.atan2,Qe=Math.sin,$e=Math.cos,Je=Math.tan,He=Math.PI,et=Math.sqrt,tt=e=>e/180*He,it=e=>180*e/He;function ot(e){const{element:t,from:i,to:o,arcPoint:r}=e;if(r&&(o.cx!==r.x||o.cy!==r.y)){const e=nt({x:i.cx,y:i.cy},{x:o.cx,y:o.cy},r),t=Math.atan2(i.cy-e.y,i.cx-e.x);let n=Ke(o.cy-e.y,o.cx-e.x)-t;n>tt(180)&&(n-=tt(360));const a=n>0||n<=tt(-180),s=(e.x-i.cx)*(o.cy-i.cy)-(e.y-i.cy)*(o.cx-i.cx)<0==(r.x-i.cx)*(o.cy-i.cy)-(r.y-i.cy)*(o.cx-i.cx)<0;return t+tt(90*(s&&a||!s&&!a?-1:1))}return void 0!==t.arc?tt(t.arc):(console.log(`connector from ${t.fromUid||""} doesn't have x, y, or angle`),NaN)}function rt(e,t,i){let o=9;e instanceof re?o=25:e instanceof Q?o=15:e.isZeroRadius&&(o=0);const r=Je(o/t.r),n=Ke(e.cy-t.y,e.cx-t.x);return{x:t.x+t.r*$e(n+(i?1:-1)*r),y:t.y+t.r*Qe(n+(i?1:-1)*r)}}function nt(e,t,i){const o=Pe(t.x)+Pe(t.y),r=(Pe(e.x)+Pe(e.y)-o)/2,n=(o-Pe(i.x)-Pe(i.y))/2,a=(e.x-t.x)*(t.y-i.y)-(t.x-i.x)*(e.y-t.y);if(De(a))throw new Error("zero determinant");const s=1/a,l=(r*(t.y-i.y)-n*(e.y-t.y))*s,c=(n*(e.x-t.x)-r*(t.x-i.x))*s;return{x:l,y:c,r:et(Pe(t.x-l)+Pe(t.y-c))}}const at=Object(Fe.a)(Ye)(class e extends r.PureComponent{constructor(...e){super(...e),this.handlePointerDownArc=e=>{e.preventDefault(),e.stopPropagation(),this.props.onSelection(this.props.element,e,!1)},this.handlePointerDownArrowhead=e=>{e.preventDefault(),e.stopPropagation(),this.props.onSelection(this.props.element,e,!0)}}static intersectElementStraight(e,t){let i=9;return e instanceof re?i=25:e instanceof Q?i=15:e.isZeroRadius&&(i=0),{x:e.cx+i*$e(t),y:e.cy+i*Qe(t)}}static isStraightLine(e){const t=e.from,i=e.to,o=ot(e),r=Ke(i.cy-t.cy,i.cx-t.cx);return Math.abs(r-o)<tt(6)}renderStraightLine(){const{from:t,to:i,classes:o,isSelected:n}=this.props,a=Ke(i.cy-t.cy,i.cx-t.cx),s=e.intersectElementStraight(t,a),l=e.intersectElementStraight(i,(e=>((e+=He)>He&&(e-=2*He),e))(a)),c=it(a),p=`M${s.x},${s.y}L${l.x},${l.y}`;return r.createElement("g",{key:this.props.element.uid},r.createElement("path",{d:p,className:o.connectorBg,onPointerDown:this.handlePointerDownArc}),r.createElement("path",{d:p,className:n?o.connectorSelected:o.connector,onPointerDown:this.handlePointerDownArc}),r.createElement(Xe,{point:l,angle:c,isSelected:n,size:6,onSelection:this.handlePointerDownArrowhead,type:"connector"}))}static arcCircle(e){const{from:t,to:i,arcPoint:o}=e;if(o&&(i.cx!==o.x||i.cy!==o.y))return nt({x:t.cx,y:t.cy},{x:i.cx,y:i.cy},o);let r=-1/Je(ot(e));De(r)?r=0:Be(r)&&(r=r>0?1/0:-1/0);const n=t.cy-r*t.cx;let a,s;if(t.cy===i.cy)a=(t.cx+i.cx)/2,s=r*a+n;else{const e=-1/((t.cy-i.cy)/(t.cx-i.cx)),o=(t.cx+i.cx)/2,l=(t.cy+i.cy)/2-e*o;Be(r)?(a=t.cx,s=e*a+l):(a=(n-l)/(e-r),s=r*a+n)}return{r:et(Pe(t.cx-a)+Pe(t.cy-s)),x:a,y:s}}renderArc(){const{from:t,to:i,classes:o,isSelected:n}=this.props,a=ot(this.props),s=e.arcCircle(this.props);if(void 0===s)return console.log("FIXME: arcCircle returned null"),r.createElement("g",{key:this.props.element.uid});const l=Ke(t.cy-s.y,t.cx-s.x);let c=Ke(i.cy-s.y,i.cx-s.x)-l;c>tt(180)&&(c-=tt(360));let p=c>0||c<=tt(-180);const u=(s.x-t.cx)*(i.cy-t.cy)-(s.y-t.cy)*(i.cx-t.cx),d=rt(t,s,p),h=et(Pe(d.x-t.cx)+Pe(d.y-t.cy)),g=t.cx+h*$e(a),m=t.cy+h*Qe(a),f=u<0==(g-t.cx)*(i.cy-t.cy)-(m-t.cy)*(i.cx-t.cx)<0;f&&(p=!p);const b=t.cx,y=t.cy,j=rt(i,s,!p),w=`M${b},${y}A${s.r},${s.r} 0 ${+f},${+p} ${j.x},${j.y}`;let E=it(Ke(j.y-s.y,j.x-s.x))-90;return p&&(E+=180),r.createElement("g",null,r.createElement("path",{d:w,className:o.connectorBg,onPointerDown:this.handlePointerDownArc}),r.createElement("path",{d:w,className:n?o.connectorSelected:o.connector,onPointerDown:this.handlePointerDownArc}),r.createElement(Xe,{point:j,angle:E,isSelected:n,size:6,type:"connector",onSelection:this.handlePointerDownArrowhead}))}static boundStraightLine(e){const{to:t,from:i}=e;return{top:Math.min(t.cy,i.cy),left:Math.min(t.cx,i.cx),right:Math.max(t.cx,i.cx),bottom:Math.max(t.cy,i.cy)}}static boundArc(t){const i=e.arcCircle(t);if(!i)return;return{top:i.y-i.r,left:i.x-i.r,right:i.x+i.r,bottom:i.y+i.r}}static bounds(t){return e.isStraightLine(t)?e.boundStraightLine(t):e.boundArc(t)}render(){return e.isStraightLine(this.props)?this.renderStraightLine():this.renderArc()}});var st=i(169),lt=i(183);const ct=Object(Me.a)({left:{textAnchor:"end"},right:{textAnchor:"start"},editor:{fontSize:12,fontFamily:'"Roboto", "Open Sans", "Arial", sans-serif',fontWeight:300,textAnchor:"middle",whiteSpace:"nowrap",verticalAlign:"middle"}}),pt=Object(Fe.a)(ct)(class extends r.PureComponent{constructor(e){super(e),this.handleChange=e=>{this.props.onChange(e)},this.handlePointerUpDown=e=>{e.stopPropagation()},this.handleKeyPress=e=>{"Enter"===e.code&&(e.ctrlKey||e.shiftKey||e.altKey)?(e.stopPropagation(),this.props.onDone(!1)):"Escape"===e.code&&(e.stopPropagation(),this.props.onDone(!0))},this.state={editor:Object(st.a)(Object(lt.c)(Object(Ae.i)()))}}render(){const e=this.props.value.map((e=>Ae.c.string(e))),t=e.length,i=6*e.reduce(((e,t)=>t.length>e?t.length:e),0)+10,{cx:o,cy:n,side:a}=this.props,s=this.props.rw||9,l=this.props.rh||9;let c=o,p=n;const u=Math.round(c);let d=p,h=0,g="center";switch(a){case"top":p=n-l-4-14*t,h=u-i/2,d=p;break;case"bottom":p=n+l+4,h=u-i/2,d=p;break;case"left":c=o-s-4+1,g="right",h=c-i,d=p-(12+14*(e.length-1))/2-3;break;case"right":c=o+s+4-1,g="left",h=c,d=p-(12+14*(e.length-1))/2-3;break;default:console.log("unknown label case "+a)}d=Math.round(d);const m={position:"relative",left:h,top:d,width:i,textAlign:g,lineHeight:"14px",background:"white",borderRadius:"3px",border:"1px solid #4444dd"},{classes:f}=this.props;return r.createElement("div",{className:f.editor,style:m,onPointerDown:this.handlePointerUpDown,onPointerUp:this.handlePointerUpDown},r.createElement(lt.b,{editor:this.state.editor,value:this.props.value,onChange:this.handleChange},r.createElement(lt.a,{autoFocus:!0,onKeyUp:this.handleKeyPress})))}});const ut=45,dt=35;const ht=Object(Fe.a)((({palette:e})=>Object(Me.a)({stock:{strokeWidth:1,stroke:e.common.black,fill:e.common.white},stockSelected:{strokeWidth:1,stroke:"#4444dd",fill:"white"},targetGood:{"& rect":{stroke:"rgb(76, 175, 80)",strokeWidth:2}},targetBad:{"& rect":{stroke:"rgb(244, 67, 54)",strokeWidth:2}},selected:{"& text":{fill:"#4444dd"},"& rect":{stroke:"#4444dd"}},indicator:{fill:"rgb(255, 152, 0)",strokeWidth:0}})))(class extends r.PureComponent{constructor(...e){super(...e),this.handlePointerUp=e=>{},this.handlePointerDown=e=>{e.preventDefault(),e.stopPropagation(),this.props.onSelection(this.props.element,e)},this.handleLabelSelection=e=>{e.preventDefault(),e.stopPropagation(),this.props.onSelection(this.props.element,e,!0)}}indicators(){if(!this.props.hasWarning)return;const{classes:e,element:t}=this.props,i=t.cx+22.5-1,o=t.cy-17.5+1;return r.createElement("circle",{className:e.indicator,cx:i,cy:o,r:3})}sparkline(e){var t;if(!e||0===e.length)return;const{element:i}=this.props,o=(null===(t=i.var)||void 0===t?void 0:t.isArrayed)||!1?3:0,n=i.cx-o,a=i.cy-o;return r.createElement("g",{transform:`translate(${n+1-22.5} ${a+1-17.5})`},r.createElement(Ue,{series:e,width:43,height:33}))}render(){var e;const{element:t,isEditingName:i,isSelected:o,isValidTarget:n,classes:a}=this.props,s=ut,l=dt,c=t.cx,p=t.cy,u=this.props.series,d=(null===(e=t.var)||void 0===e?void 0:e.isArrayed)||!1,h=d?3:0,g=t.labelSide,m=i?void 0:r.createElement(Ge,{uid:t.uid,cx:c,cy:p,side:g,rw:s/2+h,rh:l/2+h,text:ke(f(t.name)),onSelection:this.handleLabelSelection,onLabelDrag:this.props.onLabelDrag}),b=this.sparkline(u),y=this.indicators();let j=o?a.selected:void 0;void 0!==n&&(j=n?a.targetGood:a.targetBad);const w=c-s/2,E=p-l/2;let _=[r.createElement("rect",{key:"1",className:a.stock,x:w,y:E,width:s,height:l})];return d&&(_=[r.createElement("rect",{key:"0",className:a.stock,x:w+h,y:E+h,width:s,height:l}),r.createElement("rect",{key:"1",className:a.stock,x:w,y:E,width:s,height:l}),r.createElement("rect",{key:"2",className:a.stock,x:w-h,y:E-h,width:s,height:l})]),r.createElement("g",{className:j,onPointerDown:this.handlePointerDown,onPointerUp:this.handlePointerUp},_,b,y,m)}});const gt=Math.atan2,mt=Math.PI;function ft(e,t,i=1e-9,o=0){if(i<0||o<0)throw new Error("relative and absolute tolerances must be non-negative.");if(e===t)return!0;const r=Math.abs(t-e);return r<=Math.abs(i*t)||r<=Math.abs(i*e)||r<=o}function bt(e,t,i){const o=f(t.points.filter((t=>t.attachedToUid===e.uid)).first());if("left"===i&&ft(o.x,e.cx-22.5))return!0;if("right"===i&&ft(o.x,e.cx+22.5))return!0;if("top"===i&&ft(o.y,e.cy-17.5))return!0;if("bottom"===i&&ft(o.y,e.cy+17.5))return!0;const r=function(e,t){2!==e.points.size&&console.log(`TODO: multipoint flows for ${e.ident}`);let i=0;for(const o of e.points){if(o.attachedToUid===t.uid)return f(0===i?e.points.last():e.points.first());i++}throw new Error("unreachable")}(t,e),n=e.cx-r.x,a=e.cy-r.y,s=wt(t),l=Et(t);return(!s||!l)&&(!!(s&&n<0&&"right"===i)||(!!(s&&n>0&&"left"===i)||(!s&&a<0&&"bottom"===i||!s&&a>0&&"top"===i)))}function yt(e,t,i,o){return i.map((i=>{let r=wt(i);const n=Et(i),a=r&&n;let s;const l=i.points.map(((e,o)=>{if(0!==o&&o!==i.points.size-1)return e;if(e.attachedToUid!==t.uid)return s=e,e;let n;n=0===o?i.points.last():i.points.first();const l=t.cx-n.x,c=t.cy-n.y;a&&(r=l>c);const p={x:22.5,y:17.5};return(t instanceof le||t.isZeroRadius)&&(p.x=0,p.y=0),e=r&&l<0?e.set("x",t.cx+p.x):r?e.set("x",t.cx-p.x):!r&&c<0?e.set("y",t.cy+p.y):e.set("y",t.cy-p.y)}));if(s=f(s),o){const o={x:i.cx===s.x?.5:(t.cx-s.x)/(e.cx-s.x),y:i.cy===s.y?.5:(t.cy-s.y)/(e.cy-s.y)},r={x:i.cx===s.x?t.cx-s.x:i.cx-s.x,y:i.cy===s.y?t.cy-s.y:i.cy-s.y},n={x:Math.min(s.x,t.cx),y:Math.min(s.y,t.cy)};i=i.merge({x:n.x+Math.abs(o.x*r.x),y:n.y+Math.abs(o.y*r.y)})}else{const o={x:(t.cx-s.x)/(e.cx-s.x||1),y:(t.cy-s.y)/(e.cy-s.y||1)},r={x:i.cx-s.x,y:i.cy-s.y};i=i.merge({x:s.x+o.x*r.x,y:s.y+o.y*r.y})}return i.set("points",l)}))}function jt(e){return t=>{if(0===t.points.size)return!1;const i=e(f(t.points.get(0)));return t.points.every((t=>e(t)===i))}}const wt=jt((e=>e.y)),Et=jt((e=>e.x));function _t(e,t,i){let o=new J({x:e.cx-i.x,y:e.cy-i.y,attachedToUid:void 0});const r=f(t.points.get(0));if(wt(t)&&Et(t)){const e={x:o.x-r.x,y:o.y-r.y};o=Math.abs(e.x)>Math.abs(e.y)?o.set("y",r.y):o.set("x",r.x)}else wt(t)?o=o.set("y",r.y):Et(t)&&(o=o.set("x",r.x));const n=e;return[e=e.merge({x:o.x,y:o.y}),t=f(yt(n,e,Object(h.a)([t]),!0).first())]}const Vt=Object(Fe.a)((({palette:e})=>Object(Me.a)({flowOuter:{fill:"none",strokeWidth:4,stroke:e.common.black},flowOuterSelected:{fill:"none",strokeWidth:4,stroke:"#4444dd"},flowInner:{fill:"none",strokeWidth:2,stroke:e.common.white},aux:{strokeWidth:1,fill:e.common.white,stroke:e.common.black},targetGood:{"& circle":{stroke:"rgb(76, 175, 80)",strokeWidth:2}},targetBad:{"& circle":{stroke:"rgb(244, 67, 54)",strokeWidth:2}},selected:{"& text":{fill:"#4444dd"},"& circle":{stroke:"#4444dd"}},indicator:{fill:"rgb(255, 152, 0)",strokeWidth:0}})))(class extends r.PureComponent{constructor(...e){super(...e),this.handlePointerUp=e=>{},this.handlePointerDown=e=>{e.preventDefault(),e.stopPropagation(),this.props.onSelection(this.props.element,e)},this.handleLabelSelection=e=>{e.preventDefault(),e.stopPropagation(),this.props.onSelection(this.props.element,e,!0)},this.handlePointerDownArrowhead=e=>{e.preventDefault(),e.stopPropagation(),this.props.onSelection(this.props.element,e,!1,!0)}}radius(){return 9}indicators(){if(!this.props.hasWarning)return;const{classes:e,element:t}=this.props,i=this.radius(),o=-Math.PI/4,n=t.cx+i*Math.cos(o),a=t.cy+i*Math.sin(o);return r.createElement("circle",{className:e.indicator,cx:n,cy:a,r:3})}sparkline(e){var t;if(!e||0===e.length)return;const{element:i}=this.props,o=(null===(t=i.var)||void 0===t?void 0:t.isArrayed)||!1?3:0,n=i.cx-o,a=i.cy-o,s=this.radius();return r.createElement("g",{transform:`translate(${n+1-s/2} ${a+1-s/2})`},r.createElement(Ue,{series:e,width:s-2,height:s-2}))}render(){var e;const{classes:t,element:i,isEditingName:o,isMovingArrow:n,isSelected:a,isValidTarget:s,series:l,sink:c}=this.props,p=(null===(e=i.var)||void 0===e?void 0:e.isArrayed)||!1,u=p?3:0;let d=this.props.element.points;if(d.size<2)throw new Error("expected at least two points on a flow");if(c instanceof le&&!n){const e=f(d.get(d.size-1)).x,t=f(d.get(d.size-1)).y,i=f(d.get(d.size-2)).x,o=f(d.get(d.size-2)).y;i<e?d=d.update(d.size-1,(t=>t.set("x",e-Oe))):i>e&&(d=d.update(d.size-1,(t=>t.set("x",e+Oe)))),o<t?d=d.update(d.size-1,(e=>e.set("y",t-Oe))):o>t&&(d=d.update(d.size-1,(e=>e.set("y",t+Oe))))}const h=7.5;let g="",m=0;for(let r=0;r<d.size;r++){let e=f(d.get(r)).x,t=f(d.get(r)).y;if(r===d.size-1){const i=e-f(d.get(r-1)).x,o=t-f(d.get(r-1)).y;let n=180*gt(o,i)/mt;n<0&&(n+=360),n>=315||n<45?(e-=h,m=0):n>=45&&n<135?(t-=h,m=90):n>=135&&n<225?(e+=h,m=180):(t+=h,m=270)}g+=`${0===r?"M":"L"}${e},${t}`}const b=i.cx,y=i.cy,j=this.radius(),w=f(d.get(d.size-1)),E=i.labelSide,_=o?void 0:r.createElement(Ge,{uid:i.uid,cx:b,cy:y,side:E,rw:j+u,rh:j+u,text:ke(f(i.name)),onSelection:this.handleLabelSelection,onLabelDrag:this.props.onLabelDrag}),V=this.sparkline(l),M=this.indicators();let F=a?t.selected:void 0;void 0!==s&&(F=s?t.targetGood:t.targetBad);let A=[r.createElement("circle",{key:"1",className:t.aux,cx:b,cy:y,r:j})];return p&&(A=[r.createElement("circle",{key:"0",className:t.aux,cx:b+u,cy:y+u,r:j}),r.createElement("circle",{key:"1",className:t.aux,cx:b,cy:y,r:j}),r.createElement("circle",{key:"2",className:t.aux,cx:b-u,cy:y-u,r:j})]),r.createElement("g",{className:F},r.createElement("path",{d:g,className:a?t.flowOuterSelected:t.flowOuter,onPointerDown:this.handlePointerDown,onPointerUp:this.handlePointerUp}),r.createElement(Xe,{point:w,angle:m,size:8,type:"flow",isSelected:this.props.isSelected,onSelection:this.handlePointerDownArrowhead}),r.createElement("path",{d:g,className:t.flowInner}),r.createElement("g",{onPointerDown:this.handlePointerDown,onPointerUp:this.handlePointerUp},A,V),M,_)}}),Mt=Object(Me.a)({module:{fill:"white",strokeWidth:1,stroke:"black"}});const Ft=Object(Fe.a)(Mt)(class extends r.PureComponent{render(){const{element:e,classes:t}=this.props,i=e.cx,o=e.cy,n=e.labelSide;return r.createElement("g",null,r.createElement("rect",{className:t.module,x:Math.ceil(i-27.5),y:Math.ceil(o-22.5),width:55,height:45,rx:5,ry:5}),r.createElement(Ge,{uid:e.uid,cx:i,cy:o,side:n,text:ke(f(e.name)),rw:27.5,rh:22.5}))}});const At=Object(Me.a)({aux:{fill:"white",strokeWidth:1,stroke:"black",strokeDasharray:2},targetGood:{"& circle":{stroke:"rgb(76, 175, 80)",strokeWidth:2}},targetBad:{"& circle":{stroke:"rgb(244, 67, 54)",strokeWidth:2}},selected:{"& text":{fill:"#4444dd"},"& circle":{stroke:"#4444dd"}},indicator:{fill:"rgb(255, 152, 0)",strokeWidth:0}});const St=Object(Fe.a)(At)(class extends r.PureComponent{constructor(...e){super(...e),this.handlePointerDown=e=>{e.preventDefault(),e.stopPropagation(),this.props.onSelection(this.props.element,e)},this.handleLabelSelection=e=>{e.preventDefault(),e.stopPropagation(),this.props.onSelection(this.props.element,e,!0)}}radius(){return 9}sparkline(e){if(!e||0===e.length)return;const{element:t}=this.props,i=t.cx-0,o=t.cy-0,n=this.radius();return r.createElement("g",{transform:`translate(${i+1-n/2} ${o+1-n/2})`},r.createElement(Ue,{series:e,width:n-2,height:n-2}))}render(){const{classes:e,element:t,isSelected:i,isValidTarget:o,series:n,aliasOf:a}=this.props,s=t.cx,l=t.cy,c=this.radius(),p=t.labelSide,u=r.createElement(Ge,{uid:t.uid,cx:s,cy:l,side:p,rw:c+0,rh:c+0,text:ke((null==a?void 0:a.name)||"unknown alias"),onSelection:this.handleLabelSelection,onLabelDrag:this.props.onLabelDrag}),d=this.sparkline(n);let h=i?e.selected:void 0;void 0!==o&&(h=o?e.targetGood:e.targetBad);let g=[r.createElement("circle",{key:"1",className:e.aux,cx:s,cy:l,r:c})];return r.createElement("g",{className:h,onPointerDown:this.handlePointerDown},g,d,u)}});const xt=-2,vt=new Y({name:"$\xb7model-internal-faux-target",ident:"$\xb7model-internal-faux-target",uid:-3,var:void 0,x:0,y:0,labelSide:"right",isZeroRadius:!0}),kt=new le({uid:-5,flowUid:-1,x:0,y:0,isZeroRadius:!0});function Bt(e){return 180*e/Math.PI}const Dt=Object(Fe.a)((({palette:e})=>Object(Me.a)({canvas:{boxSizing:"border-box",height:"100%",width:"100%",userSelect:"none","-webkit-touch-callout":"none","& text":{fill:e.common.black,fontSize:"12px",fontFamily:'"Roboto", "Open Sans", "Arial", sans-serif',fontWeight:300,textAnchor:"middle",whiteSpace:"nowrap",verticalAlign:"middle"}},container:{height:"100%",width:"100%"},overlay:{position:"absolute",top:0,left:0,height:"100%",width:"100%"},noPointerEvents:{pointerEvents:"none",touchAction:"none"},selectionOverlay:{stroke:"#4444dd",strokeWidth:1,fill:"#6363ff",opacity:.2,zIndex:10,transform:"translateZ(1)"},gLayer:{willUpdate:"translate"}})))(class e extends r.PureComponent{constructor(e){super(e),this.state=void 0,this.svgRef=void 0,this.svgObserver=void 0,this.mouseDownPoint=void 0,this.selectionCenterOffset=void 0,this.pointerId=void 0,this.elementBounds=Object(h.a)(),this.prevSelectedTool=void 0,this.selection=Object(h.d)(),this.cachedVersion=-1/0,this.cachedElements=Object(h.a)(),this.elements=Object(h.b)(),this.selectionUpdates=Object(h.b)(),this.computeBounds=!1,this.handlePointerCancel=e=>{if(this.props.embedded)return;if(!this.pointerId||this.pointerId!==e.pointerId)return;if(e.preventDefault(),e.stopPropagation(),this.props.onShowVariableDetails(),this.pointerId=void 0,this.state.isMovingLabel&&this.state.labelSide){const e=f(this.props.selection.first());return this.props.onMoveLabel(e,this.state.labelSide),void this.clearPointerState(!1)}if(this.selectionCenterOffset){if(this.state.moveDelta){const e=this.getArcPoint(),i=this.state.moveDelta;if(this.state.editNameOnPointerUp){let e=this.state.inCreation;if(!(e instanceof Q||e instanceof Y))throw new Error("invariant broken");e=e.merge({x:e.x-i.x,y:e.y-i.y});const t=Se(ke(f(e.name)));return this.setState({isEditingName:!0,editNameOnPointerUp:!1,editingName:t,inCreation:e,moveDelta:void 0}),void(this.selectionCenterOffset=void 0)}if(this.state.isMovingArrow){const e=this.getElementByUid(f(this.props.selection.first()));let o=!1;const r=this.cachedElements.find((e=>{const t=this.isValidTarget(e);return o=o||!1===t,t||!1}));if(e instanceof ie&&r)this.props.onAttachLink(e,f(r.ident));else if(e instanceof ee){var t;if(0===this.state.moveDelta.x&&0===this.state.moveDelta.y&&this.state.inCreation)return void this.clearPointerState();const o=!!this.state.inCreation;let n;if(-5===(null===(t=e.points.get(1))||void 0===t?void 0:t.attachedToUid)){const e=this.getCanvasOffset();n={x:this.selectionCenterOffset.x-e.x,y:this.selectionCenterOffset.y-e.y}}this.props.onMoveFlow(e,r?r.uid:0,i,n,o),o&&this.setState({isEditingName:!0,editingName:Se(ke(f(e.name))),flowStillBeingCreated:!0})}else o&&!this.state.inCreation||this.props.onDeleteSelection()}else this.props.onMoveSelection(i,e);this.setState({moveDelta:void 0,inCreation:void 0,inCreationCloud:void 0,isMovingArrow:!1})}return void(this.selectionCenterOffset=void 0)}if(this.state.isMovingCanvas&&this.state.movingCanvasOffset){const e=this.props.view.viewBox.merge({x:this.state.movingCanvasOffset.x,y:this.state.movingCanvasOffset.y});this.props.onViewBoxChange(e,this.props.view.zoom),this.setState({movingCanvasOffset:void 0})}if(!this.mouseDownPoint)return;const i=!this.state.isMovingCanvas;this.clearPointerState(i)},this.handleLabelDrag=(e,t)=>{this.pointerId=t.pointerId;const i=Object(h.d)([e]);this.props.selection.equals(i)||this.props.onSetSelection(i);const o=this.getElementByUid(e),r=this.getCanvasOffset(),n=We(t.clientX,t.clientY,this.props.view.zoom),a=n.x-r.x,s=n.y-r.y,l=o.cx,c=o.cy,p=Bt(Math.atan2(c-s,l-a));let u;u=-45<p&&p<=45?"left":45<p&&p<=135?"top":-135<p&&p<=-45?"bottom":"right",this.setState({isMovingLabel:!0,labelSide:u})},this.handlePointerMove=e=>{this.props.embedded||this.pointerId===e.pointerId&&(this.pointerId&&"mouse"===e.pointerType&&0===e.buttons&&this.handlePointerCancel(e),this.selectionCenterOffset?this.handleSelectionMove(e):this.state.isDragSelecting?this.handleDragSelection(e):this.state.isMovingCanvas&&this.handleMovingCanvas(e))},this.handlePointerDown=e=>{if(this.props.embedded)return;if(!e.isPrimary)return;e.preventDefault(),e.stopPropagation();const t=We(e.clientX,e.clientY,this.props.view.zoom),i=this.getCanvasOffset(),{selectedTool:o}=this.props;if("aux"===o||"stock"===o){let r;if("aux"===o){const e=this.getNewVariableName("New Variable");r=new Y({uid:xt,var:void 0,x:t.x-i.x,y:t.y-i.y,name:e,ident:y(e),labelSide:"right",isZeroRadius:!1})}else{const e=this.getNewVariableName("New Stock");r=new Q({uid:xt,var:void 0,x:t.x-i.x,y:t.y-i.y,name:e,ident:y(e),labelSide:"bottom",isZeroRadius:!1,inflows:Object(h.a)(),outflows:Object(h.a)()})}return this.pointerId=e.pointerId,this.selectionCenterOffset=t,e.target.setPointerCapture(e.pointerId),this.setState({isEditingName:!1,editNameOnPointerUp:!0,inCreation:r,moveDelta:{x:0,y:0}}),void this.props.onSetSelection(Object(h.d)([r.uid]))}if(this.pointerId=e.pointerId,"flow"===o){const e=this.getCanvasOffset(),i=t.x-e.x,o=t.y-e.y,r=new le({uid:-4,flowUid:xt,x:i,y:o,isZeroRadius:!1}),n=this.getNewVariableName("New Flow"),a=new ee({uid:xt,var:void 0,name:n,ident:y(n),x:i,y:o,labelSide:"bottom",points:Object(h.a)([new J({x:i,y:o,attachedToUid:r.uid}),new J({x:i,y:o,attachedToUid:kt.uid})]),isZeroRadius:!1});return this.selectionCenterOffset=t,this.setState({isEditingName:!1,isMovingArrow:!0,inCreation:a,inCreationCloud:r,moveDelta:{x:0,y:0}}),void this.props.onSetSelection(Object(h.d)([a.uid]))}this.mouseDownPoint=We(e.clientX,e.clientY,this.props.view.zoom),"touch"===e.pointerType||e.shiftKey?this.setState({isDragSelecting:!1,isMovingCanvas:!0,inCreation:void 0,inCreationCloud:void 0}):this.setState({isDragSelecting:!0,isMovingCanvas:!1,inCreation:void 0,inCreationCloud:void 0})},this.handleEditingEnd=e=>{e.preventDefault(),e.stopPropagation(),this.handleEditingNameDone(!1)},this.handleEditConnector=(e,t,i)=>{this.handleSetSelection(e,t,!1,i)},this.handleSetSelection=(e,t,i,o)=>{if(this.props.embedded)return;let r=!!i,n=[],a=!!o;this.pointerId=t.pointerId,this.selectionCenterOffset=We(t.clientX,t.clientY,this.props.view.zoom),r||t.target.setPointerCapture(t.pointerId);const{selectedTool:s}=this.props;let l;if("link"===s&&e.isNamed())r=!1,a=!0,l=new ie({uid:xt,fromUid:e.uid,toUid:vt.uid,arc:0,multiPoint:void 0,isStraight:!1}),e=l;else if("flow"===s&&e instanceof Q){r=!1,a=!0;const t=new J({x:e.cx,y:e.cy,attachedToUid:e.uid}),i=new J({x:e.cx,y:e.cy,attachedToUid:kt.uid}),o=this.getNewVariableName("New Flow");l=new ee({uid:xt,var:void 0,name:o,ident:y(o),x:e.cx,y:e.cy,labelSide:"bottom",points:Object(h.a)([t,i]),isZeroRadius:!1}),e=l}else{this.props.onClearSelectedTool();const t=Object(h.d)([e.uid]);if(r){const e=f(t.first()),i=this.getElementByUid(e);n=Se(ke(f(i.name)))}}this.setState({isEditingName:r,editingName:n,isMovingArrow:a,inCreation:l,moveDelta:{x:0,y:0}}),this.props.onSetSelection(Object(h.d)([e.uid]))},this.handleEditingNameChange=e=>{this.setState({editingName:e})},this.handleEditingNameDone=e=>{if(!this.state.isEditingName)return;if(e)return this.state.flowStillBeingCreated&&(this.setState({flowStillBeingCreated:!0}),this.props.onDeleteSelection()),void this.clearPointerState();const t=f(this.props.selection.first()),i=this.getElementByUid(t),o=ke(f(i.name)),r=f(this.state.editingName).map((e=>Ae.c.string(e))).join("\n");t===xt?this.props.onCreateVariable(i.set("name",r)):this.props.onRenameVariable(o,r),this.clearPointerState()},this.svgRef=r.createRef(),this.state={isMovingArrow:!1,isMovingCanvas:!1,isDragSelecting:!1,isEditingName:!1,isMovingLabel:!1,labelSide:void 0,editingName:[],editNameOnPointerUp:!1,flowStillBeingCreated:!1,dragSelectionPoint:void 0,moveDelta:void 0,movingCanvasOffset:void 0,initialBounds:pe.default(),svgSize:void 0,inCreation:void 0,inCreationCloud:void 0}}getCanvasOffset(){var e;return null!==(e=this.state.movingCanvasOffset)&&void 0!==e?e:this.props.view.viewBox}getElementByUid(e){let t;return t=e===xt?this.state.inCreation:-4===e?this.state.inCreationCloud:this.elements.get(e),f(t)}static buildSelectionMap(e,t,i){let o=Object(h.b)();for(const r of e.selection)if(r===xt&&i)o=o.set(r,i);else{const e=f(t.get(r));o=o.set(e.uid,e)}return o}isSelected(e){return this.props.selection.has(e.uid)}alias(e){const t=this.elements.get(e.aliasOfUid);let i,n;var a;t&&(i=null===(a=this.props.model.variables.get(f(t.ident)))||void 0===a?void 0:a.data,n=this.isValidTarget(t));const s={isSelected:this.isSelected(e),isValidTarget:n,series:i,onSelection:this.handleSetSelection,onLabelDrag:this.handleLabelDrag,element:e,aliasOf:t};return r.createElement(St,Object(o.a)({key:e.uid},s))}cloud(e){const t=this.isSelected(e),i=this.getElementByUid(f(e.flowUid));if(this.state.isMovingArrow&&this.isSelected(i)&&f(i.points.last()).attachedToUid===e.uid)return;const n={element:e,isSelected:t,onSelection:this.handleSetSelection};return this.computeBounds&&(this.elementBounds=this.elementBounds.push(function(e){const{x:t,y:i}=e;return{top:(i||0)-Oe,left:(t||0)-Oe,right:(t||0)+Oe,bottom:(i||0)+Oe}}(e))),r.createElement(qe,Object(o.a)({key:e.uid},n))}isValidTarget(e){if(!this.state.isMovingArrow||!this.selectionCenterOffset)return;const t=f(this.props.selection.first()),i=this.getElementByUid(t),o=this.selectionCenterOffset,r=this.state.moveDelta||{x:0,y:0},n=this.getCanvasOffset(),a={x:o.x-r.x-n.x,y:o.y-r.y-n.y};let s=!1;if(e instanceof le?s=function(e,t){const i=e.x,o=e.y;return Math.sqrt(Pe(t.x-i)+Pe(t.y-o))<=Oe}(e,a):e instanceof Q?s=function(e,t){const i=e.cx,o=e.cy,r=Math.abs(t.x-i),n=Math.abs(t.y-o);return r<=22.5&&n<=17.5}(e,a):(e instanceof Y||e instanceof ee)&&(s=Ie(e,a)),s&&!(i instanceof ie&&i.fromUid===e.uid)){if(i instanceof ie){const{view:t}=this.props;for(const o of t.elements)if(o instanceof ie&&o.uid!==i.uid&&o.fromUid===i.fromUid&&o.toUid===e.uid)return!1}if(i instanceof ee){if(!(e instanceof Q))return!1;const t=f(i.points.first());return t.attachedToUid!==e.uid&&(Math.abs(t.x-e.cx)<22.5||Math.abs(t.y-e.cy)<17.5)}return e instanceof ee||e instanceof Y}}aux(e){const t=this.props.model.variables.get(e.ident),i=(null==t?void 0:t.hasError)||!1,n=this.isSelected(e),a={element:e,series:null==t?void 0:t.data,isSelected:n,isEditingName:n&&this.state.isEditingName,isValidTarget:this.isValidTarget(e),onSelection:this.handleSetSelection,onLabelDrag:this.handleLabelDrag,hasWarning:i};return this.computeBounds&&(this.elementBounds=this.elementBounds.push(function(e){const{cx:t,cy:i}=e;return xe({top:i-9,left:t-9,right:t+9,bottom:i+9},Le({cx:t,cy:i,side:e.labelSide,text:ke(f(e.name))}))}(e))),r.createElement(Ze,Object(o.a)({key:e.uid},a))}stock(e){const t=this.props.model.variables.get(e.ident),i=(null==t?void 0:t.hasError)||!1,n=this.isSelected(e),a={element:e,series:null==t?void 0:t.data,isSelected:n,isEditingName:n&&this.state.isEditingName,isValidTarget:this.isValidTarget(e),onSelection:this.handleSetSelection,onLabelDrag:this.handleLabelDrag,hasWarning:i};return this.computeBounds&&(this.elementBounds=this.elementBounds.push(function(e){const{cx:t,cy:i}=e;return xe({top:i-17.5,left:t-22.5,right:t+22.5,bottom:i+17.5},Le({cx:t,cy:i,side:e.labelSide,rw:22.5,rh:17.5,text:ke(f(e.name))}))}(e))),r.createElement(ht,Object(o.a)({key:e.uid},a))}module(e){const t={element:e,isSelected:this.isSelected(e)};return this.computeBounds&&(this.elementBounds=this.elementBounds.push(function(e){const{element:t}=e,{cx:i,cy:o}=t;return{top:o-22.5,left:i-27.5,right:i+27.5,bottom:o+22.5}}(t))),r.createElement(Ft,Object(o.a)({key:e.uid},t))}connector(e){const{isMovingArrow:t}=this.state,i=this.props.selection.has(e.uid),n=this.selectionUpdates.get(e.fromUid)||this.getElementByUid(e.fromUid);let a=this.selectionUpdates.get(e.toUid)||this.getElementByUid(e.toUid);const s=a.uid;let l=!1;if(t&&i&&this.selectionCenterOffset){const e=this.cachedElements.find((e=>(e instanceof Y||e instanceof ee)&&this.isValidTarget(e)||!1));if(e)l=!0,a=e;else{var c;const e=this.selectionCenterOffset,t=null!==(c=this.state.moveDelta)&&void 0!==c?c:{x:0,y:0},i=this.getCanvasOffset();a=a.merge({x:e.x-t.x-i.x,y:e.y-t.y-i.y,isZeroRadius:!0})}}if(t||this.isSelected(n)||this.isSelected(a)){const t=f(this.elements.get(s)),i=f(this.elements.get(n.uid)),o=Math.atan2(t.cy-i.cy,t.cx-i.cx)-Math.atan2(a.cy-n.cy,a.cx-n.cx),r=e.arc||180;e=e.set("arc",r-Bt(o))}const p={element:e,from:n,to:a,isSelected:i,onSelection:this.handleEditConnector};return i&&!l&&(p.arcPoint=this.getArcPoint()),r.createElement(at,Object(o.a)({key:e.uid},p))}getArcPoint(){var e;if(!this.selectionCenterOffset)return;const t=f(this.selectionCenterOffset),i=null!==(e=this.state.moveDelta)&&void 0!==e?e:{x:0,y:0},o=this.getCanvasOffset();return new J({x:t.x-i.x-o.x,y:t.y-i.y-o.y,attachedToUid:void 0})}flow(e){const t=this.props.model.variables.get(e.ident),i=(null==t?void 0:t.hasError)||!1,{isMovingArrow:o}=this.state,n=this.isSelected(e),a=null==t?void 0:t.data;if(e.points.size<2)return;const s=f(e.points.first()).attachedToUid;if(!s)return;const l=this.getElementByUid(s);if(!(l instanceof Q||l instanceof le))throw new Error("invariant broken");const c=f(e.points.last()).attachedToUid;if(!c)return;const p=this.getElementByUid(c);if(!(p instanceof Q||p instanceof le))throw new Error("invariant broken");return r.createElement(Vt,{key:e.uid,element:e,series:a,source:l,sink:p,isSelected:n,hasWarning:i,isMovingArrow:n&&o,isEditingName:n&&this.state.isEditingName,isValidTarget:this.isValidTarget(e),onSelection:this.handleSetSelection,onLabelDrag:this.handleLabelDrag})}constrainFlowMovement(e,t){if(2!==e.points.size)return console.log("TODO: non-simple flow"),[e,Object(h.a)()];const i=f(f(e.points.first()).attachedToUid),o=this.getElementByUid(i);if(!(o instanceof Q||o instanceof le))throw new Error("invariant broken");const r=f(f(f(e.points.last()).attachedToUid));let n=this.getElementByUid(r);if(!(n instanceof Q||n instanceof le))throw new Error("invariant broken");const{isMovingArrow:a}=this.state;if(a&&this.selectionCenterOffset){const o=this.cachedElements.find((e=>e instanceof Q&&e.uid!==i&&this.isValidTarget(e)||!1));if(o)t={x:n.cx-o.cx,y:n.cy-o.cy},n=o.merge({uid:r,x:n.cx,y:n.cy});else{const e=this.selectionCenterOffset,t=this.getCanvasOffset();n=n.merge({x:e.x-t.x,y:e.y-t.y,isZeroRadius:!0})}return[n,e]=_t(n,e,t),[e,Object(h.a)([])]}return function(e,t,i){const o=t.filter((e=>e instanceof Q)),r=t.filter((e=>e instanceof le)),n=new J({x:e.cx,y:e.cy,attachedToUid:void 0});let a=e.points;const s=a,l=f(a.get(0)),c=f(a.get(a.size-1));let p=new J({x:n.x-i.x,y:n.y-i.y,attachedToUid:void 0});if(n.x===l.x&&n.x===c.x&&o.size>0){p=o.reduce(((e,t)=>{let i=e.x;return i=Math.max(i,t.cx-22.5+3),i=Math.min(i,t.cx+22.5-3),e.set("x",i)}),p);const e=a.reduce(((e,t)=>t.y<e?t.y:e),1/0)+20,t=a.reduce(((e,t)=>t.y>e?t.y:e),-1/0)-20,i=Math.max(e,Math.min(t,p.y));p=p.set("y",i),a=a.map((e=>e.set("x",p.x)))}else if(n.y===l.y&&n.y===c.y&&o.size>0){p=o.reduce(((e,t)=>{let i=e.y;return i=Math.max(i,t.cy-17.5+3),i=Math.min(i,t.cy+17.5-3),e.set("y",i)}),p);const e=a.reduce(((e,t)=>t.x<e?t.x:e),1/0)+20,t=a.reduce(((e,t)=>t.x>e?t.x:e),-1/0)-20,i=Math.max(e,Math.min(t,p.x));p=p.set("x",i),a=a.map((e=>e.set("y",p.y)))}else 0===o.size?a=a.map((e=>e.merge({x:e.x-i.x,y:e.y-i.y}))):console.log("TODO: unknown constraint?");const u=r.map((e=>{const t=f(s.find((t=>t.attachedToUid===e.uid))),i=f(a.find((t=>t.attachedToUid===e.uid))),o=i.x-t.x,r=i.y-t.y;return e.merge({x:e.cx+o,y:e.cy+r})}));return[e=e.merge({x:p.x,y:p.y,points:a}),u]}(e,Object(h.a)([o,n]),t)}constrainCloudMovement(e,t){return _t(e,this.getElementByUid(f(e.flowUid)),t)}constrainStockMovement(e,t){const i=Object(h.a)(e.inflows.concat(e.outflows).map((e=>this.selectionUpdates.get(e)||this.getElementByUid(e))).filter((e=>void 0!==e)).map((e=>f(e))));return function(e,t,i){const o=t.filter((t=>bt(e,t,"left"))),r=t.filter((t=>bt(e,t,"right"))),n=t.filter((t=>bt(e,t,"top"))),a=t.filter((t=>bt(e,t,"bottom")));t.size!==o.size+r.size+n.size+a.size&&console.log(`isAdjacent is acting up ${t.size} !== ${o.size+r.size+n.size+a.size}`);let s=new J({x:e.cx-i.x,y:e.cy-i.y,attachedToUid:void 0});return s=o.concat(r).reduce(((e,t)=>{let i=e.y;return i=Math.max(i,t.cy-17.5+3),i=Math.min(i,t.cy+17.5-3),e.set("y",i)}),s),s=n.concat(a).reduce(((e,t)=>{let i=e.x;return i=Math.max(i,t.cx-22.5+3),i=Math.min(i,t.cx+22.5-3),e.set("x",i)}),s),t=yt(e,e=e.merge({x:s.x,y:s.y}),t),[e,t]}(e,i,t)}renderInitAndCache(){this.props.selection.equals(this.selection)||(this.selection=this.props.selection);let t=this.props.view.elements;if(this.state.inCreation&&(t=t.push(this.state.inCreation)),this.state.inCreationCloud&&(t=t.push(this.state.inCreationCloud)),this.props.version!==this.cachedVersion&&(this.elements=Object(h.b)(t.map((e=>[e.uid,e]))).set(vt.uid,vt).set(kt.uid,kt),this.cachedElements=t,this.cachedVersion=this.props.version),this.selectionUpdates=e.buildSelectionMap(this.props,this.elements,this.state.inCreation),this.state.labelSide&&(this.selectionUpdates=this.selectionUpdates.map((e=>e.set("labelSide",f(this.state.labelSide))))),this.state.moveDelta){let e=Object(h.a)();const{x:t,y:i}=f(this.state.moveDelta);this.selectionUpdates=this.selectionUpdates.map((o=>{if(o instanceof ee&&1===this.selectionUpdates.size){const[t,i]=this.constrainFlowMovement(o,f(this.state.moveDelta));return e=e.concat(i),t}if(o instanceof Q&&1===this.selectionUpdates.size){const[t,i]=this.constrainStockMovement(o,f(this.state.moveDelta));return e=e.concat(i),t}if(o instanceof le&&1===this.selectionUpdates.size){const[t,i]=this.constrainCloudMovement(o,f(this.state.moveDelta));return e=e.push(i),t}return o instanceof ie?o:o.merge({x:o.cx-t,y:o.cy-i})}));const o=e.toMap().mapKeys(((e,t)=>t.uid));this.selectionUpdates=this.selectionUpdates.concat(o)}return t}clearPointerState(e=!0){this.pointerId=void 0,this.mouseDownPoint=void 0,this.selectionCenterOffset=void 0,this.setState({isMovingCanvas:!1,isMovingArrow:!1,isEditingName:!1,isDragSelecting:!1,isMovingLabel:!1,labelSide:void 0,dragSelectionPoint:void 0,inCreation:void 0,inCreationCloud:void 0}),e&&this.props.onSetSelection(Object(h.d)()),this.focusCanvas()}handleSvgResize(e){const t={svgSize:{width:e.width,height:e.height}},i=this.state.svgSize;if(i){const t=e.width-i.width,o=e.height-i.height,r=this.getCanvasOffset(),n=new pe({x:r.x+t/4,y:r.y+o/4,width:e.width,height:e.height});this.props.onViewBoxChange(n,this.props.view.zoom)}this.setState(t)}componentWillUnmount(){this.svgObserver&&(this.svgObserver.disconnect(),this.svgObserver=void 0)}handleSelectionMove(e){if(!this.selectionCenterOffset)return;const t=We(e.clientX,e.clientY,this.props.view.zoom),i=this.selectionCenterOffset.x-t.x,o=this.selectionCenterOffset.y-t.y;this.setState({moveDelta:{x:i,y:o}})}handleMovingCanvas(e){if(!this.mouseDownPoint)return;const t=this.props.view.viewBox,i=We(e.clientX,e.clientY,this.props.view.zoom);this.setState({isMovingCanvas:!0,movingCanvasOffset:{x:t.x+(i.x-this.mouseDownPoint.x),y:t.y+(i.y-this.mouseDownPoint.y)}})}handleDragSelection(e){if(!this.mouseDownPoint)return;const t=We(e.clientX,e.clientY,this.props.view.zoom);this.setState({isDragSelecting:!0,dragSelectionPoint:t})}getNewVariableName(e){const t=this.props.model.variables;if(!t.has(y(e)))return e;for(let i=1;i<1024;i++){const o=`${e} ${i}`;if(!t.has(y(o)))return o}return e}focusCanvas(){if("undefined"!=typeof document&&document&&document.activeElement){document.activeElement.blur()}}buildLayers(e){const t=new Array(6);for(let i=0;i<6;i++)t[i]=[];for(let i of e){this.selectionUpdates.has(i.uid)&&(i=f(this.selectionUpdates.get(i.uid)));let e,o=0;i instanceof Y?(e=this.aux(i),o=5):i instanceof ie?(e=this.connector(i),o=2):i instanceof Q?(e=this.stock(i),o=4):i instanceof ee?(e=this.flow(i),o=3):i instanceof le?(e=this.cloud(i),o=4):i instanceof ae?(e=this.alias(i),o=5):i instanceof re&&(e=this.module(i),o=1),e&&t[o].push(e)}return t}componentDidMount(){var e;const t=this.renderInitAndCache();let i;this.computeBounds=!0,this.computeBounds&&(this.elementBounds=Object(h.a)()),this.buildLayers(t);const o=ve(this.elementBounds);if(o){const e=Math.floor(o.left)-10,t=Math.floor(o.top)-10,r=Math.ceil(o.right-e)+10,n=Math.ceil(o.bottom-t)+10;i=new pe({x:e,y:t,width:r,height:n}),this.setState({initialBounds:i})}const r=function(e){if(null===e)throw new Error("expected non-null object");return e}(this.svgRef.current);null===(e=this.svgObserver)||void 0===e||e.disconnect(),this.svgObserver=new ResizeObserver((e=>{const t=f(e[0]).target;this.handleSvgResize({width:t.clientWidth,height:t.clientHeight})})),this.svgObserver.observe(r);const n=r.clientWidth,a=r.clientHeight,s=this.props.view.viewBox;let l=this.props.view.zoom,c=!1;const p=s;if(0===s.width||0===s.height?c=!0:s.width===n&&s.height===a&&isFinite(s.x)&&isFinite(s.y)&&isFinite(l)&&!(l<.2)||(c=!0),c){let e=0,t=0;if((!isFinite(l)||l<.2)&&(l=1),i){const o=n/l,r=a/l;i=f(i);const s=i.x+i.width/2,c=i.y+i.height/2;if(p.width&&p.height){const i=p.width/l,n=p.height/l,a=isFinite(p.x)?p.x:0,u=isFinite(p.y)?p.y:0;e=(a+s)/i*o-s,t=(u+c)/n*r-c}else{e=o/2-s,t=r/2-c}}const o=new pe({x:e,y:t,width:n,height:a});this.props.onViewBoxChange(o,l),this.setState({svgSize:{width:n,height:a}})}this.computeBounds=!1,this.elementBounds=Object(h.a)()}render(){const{selectedTool:e,embedded:t,classes:i}=this.props;let o=this.state.isEditingName;o&&e!==this.prevSelectedTool&&(setTimeout((()=>{this.handleEditingNameDone(!1)})),o=!1),this.prevSelectedTool=e;const n=this.renderInitAndCache();t&&(this.computeBounds=!0);const a=this.buildLayers(n);let s,l,c,p,u=i.overlay;if(this.state.isDragSelecting&&this.mouseDownPoint&&this.state.dragSelectionPoint){const e=this.mouseDownPoint,t=this.state.dragSelectionPoint,o=this.getCanvasOffset(),n=Math.min(e.x,t.x)-o.x,a=Math.min(e.y,t.y)-o.y,s=Math.abs(e.x-t.x),c=Math.abs(e.y-t.y);l=r.createElement("rect",{className:i.selectionOverlay,x:n,y:a,width:s,height:c})}if(!o||this.props.selection.isEmpty())u+=" "+i.noPointerEvents;else{const e=this.props.view.zoom,t=f(this.props.selection.first()),i=this.getElementByUid(t),o=i instanceof Q?22.5:9,n=i instanceof Q?17.5:9,a=i.labelSide,l=this.getCanvasOffset();s=r.createElement(pt,{uid:t,cx:(i.cx+l.x)*e,cy:(i.cy+l.y)*e,side:a,rw:o,rh:n,value:f(this.state.editingName),onChange:this.handleEditingNameChange,onDone:this.handleEditingNameDone})}if(t){const e=ve(this.elementBounds);if(e){const t=Math.floor(e.left)-10,i=Math.floor(e.top)-10;p=`${t} ${i} ${Math.ceil(e.right-t)+10} ${Math.ceil(e.bottom-i)+10}`}}else{const e=this.props.view.zoom>=.2?this.props.view.zoom:1,t=this.getCanvasOffset();c=`matrix(${e} 0 0 ${e} ${t.x*e} ${t.y*e})`}const d=t?void 0:r.createElement("div",{className:u,onPointerDown:this.handleEditingEnd},s);return this.elementBounds&&(this.elementBounds=Object(h.a)()),this.selectionUpdates=Object(h.b)(),r.createElement("div",{className:i.container,ref:this.svgRef},r.createElement("svg",{viewBox:p,preserveAspectRatio:"xMinYMin",className:i.canvas,onPointerDown:this.handlePointerDown,onPointerMove:this.handlePointerMove,onPointerCancel:this.handlePointerCancel,onPointerUp:this.handlePointerCancel},r.createElement("defs",null),r.createElement("g",{transform:c,className:i.gLayer},a,l)),d)}});var Pt=i(80),Wt=i.n(Pt);function Ot(e){const{isDarkTheme:t}=Object(l.a)(),i=n.a.useMemo((()=>Object(g.a)({palette:{mode:t?"dark":"light",common:{white:t?"#222222":"#ffffff",black:t?"#bbbbbb":"#000000"}}})),[t]),o=Ve.deserializeBinary(Object(d.a)(e.projectPbBase64)),r=f(o.models.get("main")),a=()=>{},s=n.a.createElement(Dt,{embedded:!0,project:o,model:r,view:f(r.views.get(0)),version:1,selectedTool:void 0,selection:Object(h.d)(),onRenameVariable:(e,t)=>{},onSetSelection:e=>{},onMoveSelection:e=>{},onMoveFlow:(e,t,i)=>{},onMoveLabel:(e,t)=>{},onAttachLink:(e,t)=>{},onCreateVariable:e=>{},onClearSelectedTool:a,onDeleteSelection:a,onShowVariableDetails:a,onViewBoxChange:a});return n.a.createElement(m.a,{theme:i},s)}const Rt=[{title:"Easy to Use",imageUrl:"img/undraw_docusaurus_mountain.svg",description:n.a.createElement(n.a.Fragment,null,"Simlin was designed from the ground up to be easily to use for leaders, managers, and developers. Models are created in a simple visual language that can be picked up in minutes, yet is rich enough to describe domains from the carbon cycle to business dynamics.")},{title:"Easy to Share",imageUrl:"img/undraw_docusaurus_tree.svg",description:n.a.createElement(n.a.Fragment,null,"Developing the right strategy is the first step; convincing others it is the right strategy is the next. Simlin makes it easy to share models on the web, embed them in blog posts, and print them out.")},{title:"Easy to Go Deep",imageUrl:"img/undraw_docusaurus_react.svg",description:n.a.createElement(n.a.Fragment,null,"Simlin is designed to be simple, but interops with tools like"," ",n.a.createElement("a",{href:"https://pysd.readthedocs.io/en/master/index.html"},"PySD")," for tasks like fitting model parameters, running sensitivity analyses, or working with geographic data.")}];function Lt({imageUrl:e,title:t,description:i}){const o=Object(u.a)(e);return n.a.createElement("div",{className:Object(a.a)("col col--4",Wt.a.feature)},o&&n.a.createElement("div",{className:"text--center"},n.a.createElement("img",{className:Wt.a.featureImage,src:o,alt:t})),n.a.createElement("h3",null,t),n.a.createElement("p",null,i))}t.default=function(){const e=Object(p.default)(),{siteConfig:t={}}=e;return n.a.createElement(s.a,{title:`Hello from ${t.title}`,description:"Description will go into a meta tag in <head />"},n.a.createElement("header",{className:Object(a.a)("hero hero--primary",Wt.a.heroBanner)},n.a.createElement("div",{className:"container"},n.a.createElement("h1",{className:"hero__title"},t.title),n.a.createElement("p",{className:"hero__subtitle"},t.tagline),n.a.createElement("p",null,"Simlin is a tool for simulation modeling, leveling up your ability to learn. With Simlin you can iterate on policy and strategy much faster (and with fewer costs and consequences) than you can in the real world."),n.a.createElement("div",{className:Wt.a.buttons},n.a.createElement(c.a,{className:Object(a.a)("button button--outline button--lg",Wt.a.getStarted),to:"https://app.simlin.com"},"Get Started")))),n.a.createElement("main",null,n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("div",{className:"container"},n.a.createElement(Ot,{projectPbBase64:"Eh4RAAAAAAAANEAaCwkAAAAAAAAQQBABMgZNb250aHManBwKBG1haW4aSgpICglpbmNpZGVudHMiCGluY2lkZW50KhJjcmVhdGluZ19pbmNpZGVudHMyFG1pdGlnYXRpbmdfaW5jaWRlbnRzOAFCBQoDCgE5Gk0KSwoJbWl0aWdhdGVkIghpbmNpZGVudCoUbWl0aWdhdGluZ19pbmNpZGVudHMyFXJlbWVkaWF0aW5nX2luY2lkZW50czgBQgUKAwoBMhqBARJ/ChJjcmVhdGluZ19pbmNpZGVudHMiD2luY2lkZW50L01vbnRoczgBQlYKVApSY2hhbmdlcyptYXJnaW5hbF9pbmNpZGVudHNfcGVyX2NoYW5nZSogZWZmZWN0X29mX3JlbWVkaWF0aW9uc19vbl9pbmNpZGVudF9jcmVhdGlvbhpsEmoKFG1pdGlnYXRpbmdfaW5jaWRlbnRzIg9pbmNpZGVudC9Nb250aHM4AUI/Cj0KO2RldmVsb3BlcnNfcmVxdWlyZWRfZm9yX2luY2lkZW50X21pdGlnYXRpb24qbWl0aWdhdGlvbl9yYXRlGisKKQoKZGV2ZWxvcGVycyIJZGV2ZWxvcGVyKgZoaXJpbmc4AUIGCgQKAjEwGiUSIwoGaGlyaW5nIhBkZXZlbG9wZXIvTW9udGhzOAFCBQoDCgE1GnASbgoHY2hhbmdlcyISbGluZXNvZmNvZGUvTW9udGhzOAFCTQpLCklhdmFpbGFibGVfZGV2ZWxvcGVyc19mb3JfcHJvZHVjdF93b3JrKm1hcmdpbmFsX3Byb2R1Y3Rpdml0eV9wZXJfZGV2ZWxvcGVyGjwKOgoZcHJvZHVjdF9jb21wcmVoZW5zaXZlbmVzcyILbGluZXNvZmNvZGUqB2NoYW5nZXM4AUIFCgMKATAaSxpJCiNtYXJnaW5hbF9wcm9kdWN0aXZpdHlfcGVyX2RldmVsb3BlciIbbGluZXNvZmNvZGUvZGV2ZWxvcGVyL21vbnRoMgUKAwoBMhqnARqkAQolYXZhaWxhYmxlX2RldmVsb3BlcnNfZm9yX3Byb2R1Y3Rfd29yayIJZGV2ZWxvcGVyMnAKbgpsTUFYKDAsICBEZXZlbG9wZXJzLWRldmVsb3BlcnNfcmVxdWlyZWRfZm9yX2luY2lkZW50X21pdGlnYXRpb24tZGV2ZWxvcGVyc19yZXF1aXJlZF9mb3JfaW5jaWRlbnRfcmVtZWRpYXRpb24pGkAaPgodbWFyZ2luYWxfaW5jaWRlbnRzX3Blcl9jaGFuZ2UiFGluY2lkZW50L2xpbmVzb2Zjb2RlMgcKBQoDMC4yGjgKNgoKcmVtZWRpYXRlZCIIaW5jaWRlbnQqFXJlbWVkaWF0aW5nX2luY2lkZW50czgBQgUKAwoBMRpvEm0KFXJlbWVkaWF0aW5nX2luY2lkZW50cyIPaW5jaWRlbnQvTW9udGhzOAFCQQo/Cj1kZXZlbG9wZXJzX3JlcXVpcmVkX2Zvcl9pbmNpZGVudF9yZW1lZGlhdGlvbipyZW1lZGlhdGlvbl9yYXRlGjUaMwogcmVtZWRpYXRpb25fZWZmZWN0aXZlbmVzc19mYWN0b3IiCGluY2lkZW50MgUKAwoBMRpzGnEKK2VmZmVjdF9vZl9yZW1lZGlhdGlvbnNfb25faW5jaWRlbnRfY3JlYXRpb24iBGRtbmwyPAo6CjhTQUZFRElWKCByZW1lZGlhdGlvbl9lZmZlY3RpdmVuZXNzX2ZhY3RvciAsIFJlbWVkaWF0ZWQgKRpPGk0KMGF2ZXJhZ2VfZWZmb3J0X3JlcXVpcmVkX3RvX3JlbWVkaWF0ZV9hbl9pbmNpZGVudCISZGV2ZWxvcGVyL2luY2lkZW50MgUKAwoBMRo2GjQKD21pdGlnYXRpb25fcmF0ZSIYaW5jaWRlbnQvZGV2ZWxvcGVyL21vbnRoMgcKBQoDMC4xGnoaeAorZGV2ZWxvcGVyc19yZXF1aXJlZF9mb3JfaW5jaWRlbnRfbWl0aWdhdGlvbiIJZGV2ZWxvcGVyMj4KPAo6SW5jaWRlbnRzKmF2ZXJhZ2VfZWZmb3J0X3JlcXVpcmVkX3RvX3JlbWVkaWF0ZV9hbl9pbmNpZGVudBpOGkwKL2F2ZXJhZ2VfZWZmb3J0X3JlcXVpcmVkX3RvX21pdGlnYXRlX2FuX2luY2lkZW50IhJkZXZlbG9wZXIvaW5jaWRlbnQyBQoDCgE0GnoaeAosZGV2ZWxvcGVyc19yZXF1aXJlZF9mb3JfaW5jaWRlbnRfcmVtZWRpYXRpb24iCWRldmVsb3BlcjI9CjsKOU1pdGlnYXRlZCphdmVyYWdlX2VmZm9ydF9yZXF1aXJlZF90b19taXRpZ2F0ZV9hbl9pbmNpZGVudBo3GjUKEHJlbWVkaWF0aW9uX3JhdGUiGGluY2lkZW50L2RldmVsb3Blci9tb250aDIHCgUKAzAuMSLoDRojEiEKCUluY2lkZW50cxACGQAAAAAAeHtAIQAAAAAA3HZAKAMaIxIhCglNaXRpZ2F0ZWQQAxkAAAAAAJyCQCEAAAAAANx2QCgDGlcaVQoTY3JlYXRpbmdcbmluY2lkZW50cxAEGQAAAAAArHZAIQAAAAAA3HZAMhQJAAAAAABIc0ARAAAAAADcdkAYKjIUCQAAAAAAEHpAEQAAAAAA3HZAGAIaWxpZChVtaXRpZ2F0aW5nXG5pbmNpZGVudHMQBRkAAAAAAPh/QCEAAAAAANx2QCgDMhQJAAAAAADgfEARAAAAAADcdkAYAjIUCQAAAAAA6IFAEQAAAAAA3HZAGAMaIhIgCgpEZXZlbG9wZXJzEAcZgZVDi2xLbUAhf2q8dJMcY0AaTBpKCgZoaXJpbmcQCBkEVg4tsmVlQCF/arx0kxxjQCgDMhQJAAAAAABQYEARf2q8dJMcY0AYKzIUCYGVQ4tse2pAEX9qvHSTHGNAGAcaTRpLCgdjaGFuZ2VzEAkZAAAAAAD0cEAhAAAAAADMcUAoAzIUCQAAAAAA0GpAEQAAAAAAzHFAGCwyFAkAAAAAAIB0QBEAAAAAAMxxQBgKGjISMAoaUHJvZHVjdFxuQ29tcHJlaGVuc2l2ZW5lc3MQChkAAAAAAOh1QCEAAAAAAMxxQBo+CjwKJG1hcmdpbmFsIHByb2R1Y3Rpdml0eVxucGVyIGRldmVsb3BlchALGQAAAAAAEGpAIQAAAAAAtHNAKAMaQAo+CiZhdmFpbGFibGUgZGV2ZWxvcGVyc1xuZm9yIHByb2R1Y3Qgd29yaxAMGcHKoUW2jXNAIX9qvHSTzGVAKAMaESIPCA0QCxgJIWPuWkI+4XRAGhEiDwgOEAcYDCEAqvHSTaIuQBoRIg8IDxAMGAkhAAAAAADgYEAaESIPCBAQCRgEIaBFtvP9vFFAGjgKNgoebWFyZ2luYWwgaW5jaWRlbnRzXG5wZXIgY2hhbmdlEBEZwcqhRbZtckAhAAAAAAAceUAoAxoRIg8IEhARGAQhidLe4AvBdEAaIhIgCgpSZW1lZGlhdGVkEBMZAAAAAAAch0AhAAAAAADcdkAaXBpaChZyZW1lZGlhdGluZ1xuaW5jaWRlbnRzEBQZAAAAAACshEAhAAAAAADcdkAoAzIUCQAAAAAAUINAEQAAAAAA3HZAGAMyFAkAAAAAAGiGQBEAAAAAANx2QBgTGjsKOQohcmVtZWRpYXRpb25cbmVmZmVjdGl2ZW5lc3MgZmFjdG9yEBUZAAAAAACcd0AhAAAAAADkf0AoAxpGCkQKLGVmZmVjdCBvZiByZW1lZGlhdGlvbnMgb25cbmluY2lkZW50IGNyZWF0aW9uEBYZAAAAAACAeUAhF9nO91NhfUAoARoRIg8IFxATGBYh2M73U+PFWUAaESIPCBgQFhgEIawcWmQ732tAGhEiDwgZEBUYFiHgnBGlvS9zQBpLCkkKMWF2ZXJhZ2UgZWZmb3J0IHJlcXVpcmVkXG50byByZW1lZGlhdGUgYW4gaW5jaWRlbnQQGhkAAAAAAIyAQCEX2c73U1lwQCgEGikKJwoPbWl0aWdhdGlvbiByYXRlEBsZ6SYxCKwyfUAhAAAAAAA8ekAoAxpGCkQKLGRldmVsb3BlcnMgcmVxdWlyZWRcbmZvciBpbmNpZGVudCBtaXRpZ2F0aW9uEBwZAAAAAAAwf0AhAAAAAADsckAoBBoRIg8IHRACGBwh/Knx0k2CcEAaESIPCB4QGhgcIRgEVg4tol9AGhEiDwgfEBwYBSGgGi/dJGZDQBoRIg8IIBAbGAUhZ9XnaitWc0AaESIPCCEQHBgMIQIrhxbZiXFAGkoKSAowYXZlcmFnZSBlZmZvcnQgcmVxdWlyZWRcbnRvIG1pdGlnYXRlIGFuIGluY2lkZW50ECIZAAAAAABAhkAhF9nO91NZcEAoBBpHCkUKLWRldmVsb3BlcnMgcmVxdWlyZWRcbmZvciBpbmNpZGVudCByZW1lZGlhdGlvbhAjGQAAAAAA1IRAIQAAAAAA7HJAKAQaESIPCCQQIxgUIWg730+Nl09AGhEiDwglEAMYIyGg+DHmrn5wQBoRIg8IJhAiGCMh3SQGgZU7YUAaESIPCCcQIxgMIfYoXI/CwW9AGioKKAoQcmVtZWRpYXRpb24gcmF0ZRAoGQAAAAAAmINAIQAAAAAAPHpAKAMaESIPCCkQKBgUISNKe4Mv6XJAGhg6FggqEAQZAAAAAABIc0AhAAAAAADcdkAaGDoWCCsQCBkAAAAAAFBgQCF/arx0kxxjQBoYOhYILBAJGQAAAAAA0GpAIQAAAAAAzHFAIgApAAAAAAAA8D8="})),n.a.createElement("br",null),Rt&&Rt.length>0&&n.a.createElement("section",{className:Wt.a.features},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},Rt.map(((e,t)=>n.a.createElement(Lt,Object(o.a)({key:t},e)))))))))}}}]);