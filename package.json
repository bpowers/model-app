{
  "name": "model-app",
  "description": "The web frontend and backend service for systemdynamics.net",
  "private": true,
  "license": "Apache-2.0",
  "homepage": "https://systemdynamics.net",
  "author": {
    "name": "Bobby Powers",
    "email": "bobbypowers@gmail.com"
  },
  "main": "src/server/lib",
  "workspaces": [
    "src/xmutil-js",
    "src/engine",
    "src/importer",
    "src/core",
    "src/diagram",
    "src/app",
    "src/server"
  ],
  "devDependencies": {
    "npm-run-all": "^4.1.5"
  },
  "scripts": {
    "js-needs-format": "find src -name '*.ts' -o -name '*.tsx' | egrep -v '/(lib(\\.(browser|module))?|core)/' | xargs prettier -l",
    "rust-needs-format": "cargo fmt -- --check",
    "js-format": "find src -name '*.ts' -o -name '*.tsx' | egrep -v '/(lib(\\.(browser|module))?|core)/' | xargs prettier --write",
    "rust-format": "cargo fmt",
    "format": "npm-run-all -p js-format rust-format",
    "precommit": "npm-run-all -p js-needs-format rust-needs-format lint",
    "install-git-hooks": "cd .git/hooks && rm -f pre-commit && ln -s ../../scripts/pre-commit.hook ./pre-commit",
    "lint": "yarn rust-lint && yarn workspaces run lint",
    "rust-lint": "cargo clippy",
    "start:firestore": "gcloud beta emulators firestore start --host-port=127.0.0.1:8092",
    "start:backend": "yarn workspace @system-dynamics/server start:backend",
    "start:frontend": "yarn workspace @system-dynamics/app start:frontend",
    "build": "yarn workspaces run build",
    "clean": "yarn workspaces run clean",
    "deploy": "export NODE_ENV=production && yarn clean && yarn build && yarn workspace @system-dynamics/app deploy && gcloud app deploy ./.app.prod.yaml && yarn workspace @system-dynamics/app deploy-clean",
    "start": "node src/server/lib"
  }
}
